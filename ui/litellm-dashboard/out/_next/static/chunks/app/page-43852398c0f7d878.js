(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{52022:function(e,t,s){Promise.resolve().then(s.bind(s,10596))},21700:function(e,t,s){"use strict";s.d(t,{D:function(){return a.Z}});var a=s(96761)},23192:function(e,t,s){"use strict";s.d(t,{Z:function(){return h}});var a=s(57437);s(2265);var l=s(67101),r=s(12485),i=s(18135),n=s(35242),o=s(29706),d=s(77991),c=s(84264),m=s(25653),u=s(96362),x=e=>{let{href:t,className:s}=e;return(0,a.jsxs)("a",{href:t,target:"_blank",rel:"noopener noreferrer",title:"Open documentation in a new tab",className:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}("inline-flex items-center gap-2 rounded-xl border border-zinc-200 bg-white/80 px-3.5 py-2 text-sm font-medium text-zinc-700 shadow-sm","hover:bg-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 active:translate-y-[0.5px]",s),children:[(0,a.jsx)("span",{children:"API Reference Docs"}),(0,a.jsx)(u.Z,{"aria-hidden":!0,className:"h-4 w-4 opacity-80"}),(0,a.jsx)("span",{className:"sr-only",children:"(opens in a new tab)"})]})},h=e=>{let{proxySettings:t}=e,s="<your_proxy_base_url>",u=null==t?void 0:t.LITELLM_UI_API_DOC_BASE_URL;return u&&u.trim()?s=u:(null==t?void 0:t.PROXY_BASE_URL)&&(s=t.PROXY_BASE_URL),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(l.Z,{className:"gap-2 p-8 h-[80vh] w-full mt-2",children:(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("p",{className:"text-2xl text-tremor-content-strong dark:text-dark-tremor-content-strong font-semibold",children:"OpenAI Compatible Proxy: API Reference"}),(0,a.jsx)(x,{className:"ml-3 shrink-0",href:"https://docs.litellm.ai/docs/proxy/user_keys"})]}),(0,a.jsxs)(c.Z,{className:"mt-2 mb-2",children:["LiteLLM is OpenAI Compatible. This means your API Key works with the OpenAI SDK. Just replace the base_url to point to your litellm proxy. Example Below"," "]}),(0,a.jsxs)(i.Z,{children:[(0,a.jsxs)(n.Z,{children:[(0,a.jsx)(r.Z,{children:"OpenAI Python SDK"}),(0,a.jsx)(r.Z,{children:"LlamaIndex"}),(0,a.jsx)(r.Z,{children:"Langchain Py"})]}),(0,a.jsxs)(d.Z,{children:[(0,a.jsx)(o.Z,{children:(0,a.jsx)(m.Z,{language:"python",code:'import openai\nclient = openai.OpenAI(\n    api_key="your_api_key",\n    base_url="'.concat(s,'" # LiteLLM Proxy is OpenAI compatible, Read More: https://docs.litellm.ai/docs/proxy/user_keys\n)\n\nresponse = client.chat.completions.create(\n    model="gpt-3.5-turbo", # model to send to the proxy\n    messages = [\n        {\n            "role": "user",\n            "content": "this is a test request, write a short poem"\n        }\n    ]\n)\n\nprint(response)')})}),(0,a.jsx)(o.Z,{children:(0,a.jsx)(m.Z,{language:"python",code:'import os, dotenv\n\nfrom llama_index.llms import AzureOpenAI\nfrom llama_index.embeddings import AzureOpenAIEmbedding\nfrom llama_index import VectorStoreIndex, SimpleDirectoryReader, ServiceContext\n\nllm = AzureOpenAI(\n    engine="azure-gpt-3.5",               # model_name on litellm proxy\n    temperature=0.0,\n    azure_endpoint="'.concat(s,'", # litellm proxy endpoint\n    api_key="sk-1234",                    # litellm proxy API Key\n    api_version="2023-07-01-preview",\n)\n\nembed_model = AzureOpenAIEmbedding(\n    deployment_name="azure-embedding-model",\n    azure_endpoint="').concat(s,'",\n    api_key="sk-1234",\n    api_version="2023-07-01-preview",\n)\n\ndocuments = SimpleDirectoryReader("llama_index_data").load_data()\nservice_context = ServiceContext.from_defaults(llm=llm, embed_model=embed_model)\nindex = VectorStoreIndex.from_documents(documents, service_context=service_context)\n\nquery_engine = index.as_query_engine()\nresponse = query_engine.query("What did the author do growing up?")\nprint(response)')})}),(0,a.jsx)(o.Z,{children:(0,a.jsx)(m.Z,{language:"python",code:'from langchain.chat_models import ChatOpenAI\nfrom langchain.prompts.chat import (\n    ChatPromptTemplate,\n    HumanMessagePromptTemplate,\n    SystemMessagePromptTemplate,\n)\nfrom langchain.schema import HumanMessage, SystemMessage\n\nchat = ChatOpenAI(\n    openai_api_base="'.concat(s,'",\n    model = "gpt-3.5-turbo",\n    temperature=0.1\n)\n\nmessages = [\n    SystemMessage(\n        content="You are a helpful assistant that im using to make a test request to."\n    ),\n    HumanMessage(\n        content="test from litellm. tell me why it\'s amazing in 1 sentence"\n    ),\n]\nresponse = chat(messages)\n\nprint(response)')})})]})]})]})})})}},25653:function(e,t,s){"use strict";var a=s(57437),l=s(2265),r=s(30401),i=s(5136),n=s(17906),o=s(1479);t.Z=e=>{let{code:t,language:s}=e,[d,c]=(0,l.useState)(!1);return(0,a.jsxs)("div",{className:"relative rounded-lg border border-gray-200 overflow-hidden",children:[(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(t),c(!0),setTimeout(()=>c(!1),2e3)},className:"absolute top-3 right-3 p-2 rounded-md bg-gray-100 hover:bg-gray-200 text-gray-600 z-10","aria-label":"Copy code",children:d?(0,a.jsx)(r.Z,{size:16}):(0,a.jsx)(i.Z,{size:16})}),(0,a.jsx)(n.Z,{language:s,style:o.Z,customStyle:{margin:0,padding:"1.5rem",borderRadius:"0.5rem",fontSize:"0.9rem",backgroundColor:"#fafafa"},showLineNumbers:!0,children:t})]})}},10596:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return sG}});var a=s(57437),l=s(23192),r=s(11713),i=s(90246),n=s(19250),o=s(80443);let d=(0,i.n)("organizations"),c=()=>{let{accessToken:e,userId:t,userRole:s}=(0,o.Z)();return(0,r.a)({queryKey:d.list({}),queryFn:async()=>await (0,n.organizationListCall)(e),enabled:!!(e&&t&&s)})};var m=s(88009),u=s(92403),x=s(28595),h=s(68208),p=s(69993),g=s(58630),j=s(57400),f=s(9775),y=s(48231),v=s(15883),b=s(41361),_=s(37527),N=s(99458),Z=s(12660),w=s(41169),k=s(29436),S=s(44625),C=s(38434),P=s(71891),A=s(55322),T=s(11429),I=s(13817),L=s(18310),z=s(60985),D=s(2265),E=s(20347),M=s(79262),F=s(91027),O=s(27648);let{Sider:R}=I.default;var B=e=>{let{setPage:t,defaultSelectedKey:s,collapsed:l=!1}=e,{userId:r,accessToken:i,userRole:d}=(0,o.Z)(),{data:I}=c(),R=(0,n.getProxyBaseUrl)(),B=(0,D.useMemo)(()=>!!r&&!!I&&I.some(e=>{var t;return null===(t=e.members)||void 0===t?void 0:t.some(e=>e.user_id===r&&"org_admin"===e.user_role)}),[r,I]),q=e=>{let s=new URLSearchParams(window.location.search);s.set("page",e),window.history.pushState(null,"","?".concat(s.toString())),t(e)},U=[{groupLabel:"AI GATEWAY",items:[{key:"dashboard",page:"dashboard",label:"Dashboard",icon:(0,a.jsx)(m.Z,{})},{key:"api-keys",page:"api-keys",label:"Virtual Keys",icon:(0,a.jsx)(u.Z,{})},{key:"llm-playground",page:"llm-playground",label:"Playground",icon:(0,a.jsx)(x.Z,{}),roles:E.LQ},{key:"models",page:"models",label:"Models + Endpoints",icon:(0,a.jsx)(h.Z,{}),roles:E.LQ},{key:"agents",page:"agents",label:"Agents",icon:(0,a.jsx)(p.Z,{}),roles:E.LQ},{key:"mcp-servers",page:"mcp-servers",label:"MCP Servers",icon:(0,a.jsx)(g.Z,{})},{key:"guardrails",page:"guardrails",label:"Guardrails",icon:(0,a.jsx)(j.Z,{}),roles:E.ZL}]},{groupLabel:"OBSERVABILITY",items:[{key:"new_usage",page:"new_usage",icon:(0,a.jsx)(f.Z,{}),roles:[...E.ZL,...E.lo],label:"Usage"},{key:"logs",page:"logs",label:"Logs",icon:(0,a.jsx)(y.Z,{})}]},{groupLabel:"ACCESS CONTROL",items:[{key:"users",page:"users",label:"Internal Users",icon:(0,a.jsx)(v.Z,{}),roles:E.ZL},{key:"teams",page:"teams",label:"Teams",icon:(0,a.jsx)(b.Z,{})},{key:"organizations",page:"organizations",label:"Organizations",icon:(0,a.jsx)(_.Z,{}),roles:E.ZL},{key:"budgets",page:"budgets",label:"Budgets",icon:(0,a.jsx)(N.Z,{}),roles:E.ZL}]},{groupLabel:"DEVELOPER TOOLS",items:[{key:"api_ref",page:"api_ref",label:"API Reference",icon:(0,a.jsx)(Z.Z,{})},{key:"model-hub-table",page:"model-hub-table",label:"AI Hub",icon:(0,a.jsx)(m.Z,{})},{key:"experimental",page:"experimental",label:"Experimental",icon:(0,a.jsx)(w.Z,{}),children:[{key:"tools",page:"tools",label:"Tools",icon:(0,a.jsx)(g.Z,{}),children:[{key:"search-tools",page:"search-tools",label:"Search Tools",icon:(0,a.jsx)(k.Z,{})},{key:"vector-stores",page:"vector-stores",label:"Vector Stores",icon:(0,a.jsx)(S.Z,{}),roles:E.ZL}]},{key:"caching",page:"caching",label:"Caching",icon:(0,a.jsx)(S.Z,{}),roles:E.ZL},{key:"prompts",page:"prompts",label:"Prompts",icon:(0,a.jsx)(C.Z,{}),roles:E.ZL},{key:"transform-request",page:"transform-request",label:"API Playground",icon:(0,a.jsx)(Z.Z,{}),roles:[...E.ZL,...E.lo]},{key:"tag-management",page:"tag-management",label:"Tag Management",icon:(0,a.jsx)(P.Z,{}),roles:E.ZL}]}]},{groupLabel:"SETTINGS",roles:E.ZL,items:[{key:"settings",page:"settings",label:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:["Settings ",(0,a.jsx)(F.Z,{})]}),icon:(0,a.jsx)(A.Z,{}),roles:E.ZL,children:[{key:"router-settings",page:"router-settings",label:"Router Settings",icon:(0,a.jsx)(A.Z,{}),roles:E.ZL},{key:"logging-and-alerts",page:"logging-and-alerts",label:"Logging & Alerts",icon:(0,a.jsx)(A.Z,{}),roles:E.ZL},{key:"admin-panel",page:"admin-panel",label:"Admin Settings",icon:(0,a.jsx)(A.Z,{}),roles:E.ZL},{key:"cost-tracking",page:"cost-tracking",label:"Cost Tracking",icon:(0,a.jsx)(f.Z,{}),roles:E.ZL},{key:"ui-theme",page:"ui-theme",label:"UI Theme",icon:(0,a.jsx)(T.Z,{}),roles:E.ZL}]}]}],V=e=>e.filter(e=>"organizations"===e.key?!e.roles||e.roles.includes(d)||B:!e.roles||e.roles.includes(d)).map(e=>({...e,children:e.children?V(e.children):void 0})),H=(e=>{for(let t of U)for(let s of t.items){if(s.page===e)return s.key;if(s.children){let t=s.children.find(t=>t.page===e);if(t)return t.key}}return"api-keys"})(s);return(0,a.jsxs)("div",{className:"flex flex-col h-full bg-white",children:[(0,a.jsx)("div",{className:"h-16 flex items-center px-6 border-b border-slate-100 flex-shrink-0",children:(0,a.jsxs)(O.default,{href:R||"/",className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white font-bold text-lg",children:"P"}),!l&&(0,a.jsx)("span",{className:"font-bold text-lg text-slate-800 tracking-tight",children:"Prism"})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto py-4 scrollbar-hide",children:(0,a.jsx)(L.ZP,{theme:{components:{Menu:{itemSelectedBg:"#eff6ff",itemSelectedColor:"#4f46e5",itemHoverBg:"#f8fafc",itemColor:"#64748b",iconSize:16,fontSize:14,itemBorderRadius:8,itemMarginInline:12,itemHeight:36}}},children:(0,a.jsx)(z.Z,{mode:"inline",selectedKeys:[H],defaultOpenKeys:[],inlineCollapsed:l,items:(()=>{let e=[];return U.forEach(t=>{if(t.roles&&!t.roles.includes(d))return;let s=V(t.items);0!==s.length&&e.push({type:"group",label:l?null:(0,a.jsx)("span",{className:"text-[11px] font-bold text-slate-400 tracking-wider px-3 uppercase mb-2 mt-4 block",children:t.groupLabel}),children:s.map(e=>{var t;return{key:e.key,icon:e.icon,label:e.label,className:"my-1",children:null===(t=e.children)||void 0===t?void 0:t.map(e=>({key:e.key,icon:e.icon,label:e.label,onClick:()=>q(e.page)})),onClick:e.children?void 0:()=>q(e.page)}})})}),e})(),style:{borderRight:0},className:"custom-sidebar"})})}),(0,E.tY)(d)&&!l&&(0,a.jsxs)("div",{className:"p-4 border-t border-slate-100 bg-slate-50/50",children:[(0,a.jsx)("div",{className:"mb-2 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Usage"}),(0,a.jsx)(M.Z,{accessToken:i,width:180})]})]})},q=s(64375),U=s(69039),V=s(48449),H=s(16312),K=s(22116),G=s(10032),W=s(42264),Y=s(37592),J=s(4260),$=s(44851),Q=s(63709),X=s(5545),ee=s(45246),et=s(96473);let es={basic:{key:"basic",title:"Basic Information",defaultExpanded:!0,fields:[{name:"name",label:"Display Name",type:"text",required:!0,placeholder:"e.g., Customer Support Agent"},{name:"description",label:"Description",type:"textarea",required:!0,placeholder:"Describe what this agent does...",rows:3},{name:"url",label:"URL",type:"url",required:!0,placeholder:"http://localhost:9999/",tooltip:"Base URL where the agent is hosted"},{name:"version",label:"Version",type:"text",placeholder:"1.0.0",defaultValue:"1.0.0"},{name:"protocolVersion",label:"Protocol Version",type:"text",placeholder:"1.0",defaultValue:"1.0"}]},skills:{key:"skills",title:"Skills",fields:[{name:"skills",label:"Skills",type:"list",defaultValue:[]}]},capabilities:{key:"capabilities",title:"Capabilities",fields:[{name:"streaming",label:"Streaming",type:"switch",defaultValue:!1},{name:"pushNotifications",label:"Push Notifications",type:"switch"},{name:"stateTransitionHistory",label:"State Transition History",type:"switch"}]},optional:{key:"optional",title:"Optional Settings",fields:[{name:"iconUrl",label:"Icon URL",type:"url",placeholder:"https://example.com/icon.png"},{name:"documentationUrl",label:"Documentation URL",type:"url",placeholder:"https://docs.example.com"},{name:"supportsAuthenticatedExtendedCard",label:"Supports Authenticated Extended Card",type:"switch"}]},litellm:{key:"litellm",title:"LiteLLM Parameters",fields:[{name:"model",label:"Model (Optional)",type:"text"},{name:"make_public",label:"Make Public",type:"switch"}]},cost:{key:"cost",title:"Cost Configuration",fields:[{name:"cost_per_query",label:"Cost Per Query ($)",type:"text",placeholder:"0.0",tooltip:"Fixed cost per query"},{name:"input_cost_per_token",label:"Input Cost Per Token ($)",type:"text",placeholder:"0.000001",tooltip:"Cost per input token"},{name:"output_cost_per_token",label:"Output Cost Per Token ($)",type:"text",placeholder:"0.000002",tooltip:"Cost per output token"}]}},ea=()=>{let e={defaultInputModes:["text"],defaultOutputModes:["text"]};return Object.values(es).forEach(t=>{t.fields.forEach(t=>{void 0!==t.defaultValue&&(e[t.name]=t.defaultValue)})}),e},el=(e,t)=>{var s,a;let l={agent_name:e.agent_name,agent_card_params:{protocolVersion:e.protocolVersion||"1.0",name:e.name,description:e.description,url:e.url,version:e.version||"1.0.0",defaultInputModes:(null==t?void 0:null===(s=t.agent_card_params)||void 0===s?void 0:s.defaultInputModes)||["text"],defaultOutputModes:(null==t?void 0:null===(a=t.agent_card_params)||void 0===a?void 0:a.defaultOutputModes)||["text"],capabilities:{streaming:!0===e.streaming,...void 0!==e.pushNotifications&&{pushNotifications:e.pushNotifications},...void 0!==e.stateTransitionHistory&&{stateTransitionHistory:e.stateTransitionHistory}},skills:e.skills||[],...e.iconUrl&&{iconUrl:e.iconUrl},...e.documentationUrl&&{documentationUrl:e.documentationUrl},...void 0!==e.supportsAuthenticatedExtendedCard&&{supportsAuthenticatedExtendedCard:e.supportsAuthenticatedExtendedCard}}},r={};return e.model&&(r.model=e.model),void 0!==e.make_public&&(r.make_public=e.make_public),e.cost_per_query&&(r.cost_per_query=parseFloat(e.cost_per_query)),e.input_cost_per_token&&(r.input_cost_per_token=parseFloat(e.input_cost_per_token)),e.output_cost_per_token&&(r.output_cost_per_token=parseFloat(e.output_cost_per_token)),Object.keys(r).length>0&&(l.litellm_params=r),l},er=e=>{var t,s,a,l,r,i,n,o,d,c,m,u,x,h,p,g,j,f,y,v,b;let _=(null===(s=e.agent_card_params)||void 0===s?void 0:null===(t=s.skills)||void 0===t?void 0:t.map(e=>({...e,tags:e.tags,examples:e.examples||[]})))||[];return{agent_name:e.agent_name,name:null===(a=e.agent_card_params)||void 0===a?void 0:a.name,description:null===(l=e.agent_card_params)||void 0===l?void 0:l.description,url:null===(r=e.agent_card_params)||void 0===r?void 0:r.url,version:null===(i=e.agent_card_params)||void 0===i?void 0:i.version,protocolVersion:null===(n=e.agent_card_params)||void 0===n?void 0:n.protocolVersion,streaming:null===(d=e.agent_card_params)||void 0===d?void 0:null===(o=d.capabilities)||void 0===o?void 0:o.streaming,pushNotifications:null===(m=e.agent_card_params)||void 0===m?void 0:null===(c=m.capabilities)||void 0===c?void 0:c.pushNotifications,stateTransitionHistory:null===(x=e.agent_card_params)||void 0===x?void 0:null===(u=x.capabilities)||void 0===u?void 0:u.stateTransitionHistory,skills:_,iconUrl:null===(h=e.agent_card_params)||void 0===h?void 0:h.iconUrl,documentationUrl:null===(p=e.agent_card_params)||void 0===p?void 0:p.documentationUrl,supportsAuthenticatedExtendedCard:null===(g=e.agent_card_params)||void 0===g?void 0:g.supportsAuthenticatedExtendedCard,model:null===(j=e.litellm_params)||void 0===j?void 0:j.model,make_public:null===(f=e.litellm_params)||void 0===f?void 0:f.make_public,cost_per_query:null===(y=e.litellm_params)||void 0===y?void 0:y.cost_per_query,input_cost_per_token:null===(v=e.litellm_params)||void 0===v?void 0:v.input_cost_per_token,output_cost_per_token:null===(b=e.litellm_params)||void 0===b?void 0:b.output_cost_per_token}};var ei=()=>(0,a.jsx)(a.Fragment,{children:es.cost.fields.map(e=>(0,a.jsx)(G.Z.Item,{label:e.label,name:e.name,tooltip:e.tooltip,children:(0,a.jsx)(J.default,{placeholder:e.placeholder,type:"number",step:"0.000001"})},e.name))});let{Panel:en}=$.default;var eo=e=>{let{showAgentName:t=!0}=e;return(0,a.jsxs)(a.Fragment,{children:[t&&(0,a.jsx)(G.Z.Item,{label:"Agent Name",name:"agent_name",rules:[{required:!0,message:"Please enter a unique agent name"}],tooltip:"Unique identifier for the agent",children:(0,a.jsx)(J.default,{placeholder:"e.g., customer-support-agent"})}),(0,a.jsxs)($.default,{defaultActiveKey:["basic"],style:{marginBottom:16},children:[(0,a.jsx)(en,{header:"".concat(es.basic.title," (Required)"),children:es.basic.fields.map(e=>(0,a.jsx)(G.Z.Item,{label:e.label,name:e.name,rules:e.required?[{required:!0,message:"Please enter ".concat(e.label.toLowerCase())}]:void 0,tooltip:e.tooltip,children:"textarea"===e.type?(0,a.jsx)(J.default.TextArea,{rows:e.rows,placeholder:e.placeholder}):(0,a.jsx)(J.default,{placeholder:e.placeholder})},e.name))},es.basic.key),(0,a.jsx)(en,{header:"".concat(es.skills.title," (Required)"),children:(0,a.jsx)(G.Z.List,{name:"skills",children:(e,t)=>{let{add:s,remove:l}=t;return(0,a.jsxs)(a.Fragment,{children:[e.map(e=>(0,a.jsxs)("div",{style:{marginBottom:16,padding:16,border:"1px solid #d9d9d9",borderRadius:4},children:[(0,a.jsx)(G.Z.Item,{...e,label:"Skill ID",name:[e.name,"id"],rules:[{required:!0,message:"Required"}],children:(0,a.jsx)(J.default,{placeholder:"e.g., hello_world"})}),(0,a.jsx)(G.Z.Item,{...e,label:"Skill Name",name:[e.name,"name"],rules:[{required:!0,message:"Required"}],children:(0,a.jsx)(J.default,{placeholder:"e.g., Returns hello world"})}),(0,a.jsx)(G.Z.Item,{...e,label:"Description",name:[e.name,"description"],rules:[{required:!0,message:"Required"}],children:(0,a.jsx)(J.default.TextArea,{rows:2,placeholder:"What this skill does"})}),(0,a.jsx)(G.Z.Item,{...e,label:"Tags (comma-separated)",name:[e.name,"tags"],rules:[{required:!0,message:"Required"}],getValueFromEvent:e=>e.target.value.split(",").map(e=>e.trim()),getValueProps:e=>({value:Array.isArray(e)?e.join(", "):e}),children:(0,a.jsx)(J.default,{placeholder:"e.g., hello world, greeting"})}),(0,a.jsx)(G.Z.Item,{...e,label:"Examples (comma-separated)",name:[e.name,"examples"],getValueFromEvent:e=>e.target.value.split(",").map(e=>e.trim()).filter(e=>e),getValueProps:e=>({value:Array.isArray(e)?e.join(", "):""}),children:(0,a.jsx)(J.default,{placeholder:"e.g., hi, hello world"})}),(0,a.jsx)(X.ZP,{type:"link",danger:!0,onClick:()=>l(e.name),icon:(0,a.jsx)(ee.Z,{}),children:"Remove Skill"})]},e.key)),(0,a.jsx)(X.ZP,{type:"dashed",onClick:()=>s(),icon:(0,a.jsx)(et.Z,{}),style:{width:"100%"},children:"Add Skill"})]})}})},es.skills.key),(0,a.jsx)(en,{header:es.capabilities.title,children:es.capabilities.fields.map(e=>(0,a.jsx)(G.Z.Item,{label:e.label,name:e.name,valuePropName:"checked",children:(0,a.jsx)(Q.Z,{})},e.name))},es.capabilities.key),(0,a.jsx)(en,{header:es.optional.title,children:es.optional.fields.map(e=>(0,a.jsx)(G.Z.Item,{label:e.label,name:e.name,valuePropName:"switch"===e.type?"checked":void 0,children:"switch"===e.type?(0,a.jsx)(Q.Z,{}):(0,a.jsx)(J.default,{placeholder:e.placeholder})},e.name))},es.optional.key),(0,a.jsx)(en,{header:es.cost.title,children:(0,a.jsx)(ei,{})},es.cost.key),(0,a.jsx)(en,{header:es.litellm.title,children:es.litellm.fields.map(e=>(0,a.jsx)(G.Z.Item,{label:e.label,name:e.name,valuePropName:"switch"===e.type?"checked":void 0,children:"switch"===e.type?(0,a.jsx)(Q.Z,{}):(0,a.jsx)(J.default,{placeholder:e.placeholder})},e.name))},es.litellm.key)]})]})};let{Panel:ed}=$.default,ec=(e,t)=>{let s={...t.litellm_params_template||{}};for(let a of t.credential_fields){let t=e[a.key];t&&!1!==a.include_in_litellm_params&&(s[a.key]=t)}if(e.cost_per_query&&(s.cost_per_query=parseFloat(e.cost_per_query)),e.input_cost_per_token&&(s.input_cost_per_token=parseFloat(e.input_cost_per_token)),e.output_cost_per_token&&(s.output_cost_per_token=parseFloat(e.output_cost_per_token)),t.model_template){let a=t.model_template;for(let s of t.credential_fields){let t="{".concat(s.key,"}");a.includes(t)&&e[s.key]&&(a=a.replace(t,e[s.key]))}s.model=a}return{agent_name:e.agent_name,agent_card_params:{protocolVersion:"1.0",name:e.display_name||e.agent_name,description:e.description||"".concat(t.agent_type_display_name," agent"),url:e.api_base||"",version:"1.0.0",defaultInputModes:["text"],defaultOutputModes:["text"],capabilities:{streaming:!0},skills:[{id:"chat",name:"Chat",description:"General chat capability",tags:["chat","conversation"]}]},litellm_params:s}};var em=e=>{let{agentTypeInfo:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(G.Z.Item,{label:"Agent Name",name:"agent_name",rules:[{required:!0,message:"Please enter a unique agent name"}],tooltip:"Unique identifier for the agent",children:(0,a.jsx)(J.default,{placeholder:"e.g., my-langgraph-agent"})}),(0,a.jsx)(G.Z.Item,{label:"Description",name:"description",tooltip:"Brief description of what this agent does",children:(0,a.jsx)(J.default.TextArea,{rows:2,placeholder:"Describe what this agent does..."})}),t.credential_fields.map(e=>(0,a.jsx)(G.Z.Item,{label:e.label,name:e.key,rules:e.required?[{required:!0,message:"Please enter ".concat(e.label)}]:void 0,tooltip:e.tooltip,initialValue:e.default_value,children:"password"===e.field_type?(0,a.jsx)(J.default.Password,{placeholder:e.placeholder||""}):"textarea"===e.field_type?(0,a.jsx)(J.default.TextArea,{rows:3,placeholder:e.placeholder||""}):"select"===e.field_type&&e.options?(0,a.jsx)(Y.default,{placeholder:e.placeholder||"",children:e.options.map(e=>(0,a.jsx)(Y.default.Option,{value:e,children:e},e))}):(0,a.jsx)(J.default,{placeholder:e.placeholder||""})},e.key)),(0,a.jsx)($.default,{style:{marginBottom:16},children:(0,a.jsx)(ed,{header:es.cost.title,children:(0,a.jsx)(ei,{})},es.cost.key)})]})},eu=e=>{var t;let{visible:s,onClose:l,accessToken:r,onSuccess:i}=e,[o]=G.Z.useForm(),[d,c]=(0,D.useState)(!1),[m,u]=(0,D.useState)("a2a"),[x,h]=(0,D.useState)([]),[p,g]=(0,D.useState)(!1);(0,D.useEffect)(()=>{(async()=>{g(!0);try{let e=await (0,n.getAgentCreateMetadata)();h(e)}catch(e){console.error("Error fetching agent metadata:",e)}finally{g(!1)}})()},[]);let j=x.find(e=>e.agent_type===m),f=async e=>{if(!r){W.ZP.error("No access token available");return}c(!0);try{let t;if("a2a"===m)t=el(e);else if(null==j?void 0:j.use_a2a_form_fields)for(let s of(t=el(e),j.litellm_params_template&&(t.litellm_params={...t.litellm_params,...j.litellm_params_template}),j.credential_fields)){let a=e[s.key];a&&!1!==s.include_in_litellm_params&&(t.litellm_params[s.key]=a)}else j&&(t=ec(e,j));await (0,n.createAgentCall)(r,t),W.ZP.success("Agent created successfully"),o.resetFields(),u("a2a"),i(),l()}catch(e){console.error("Error creating agent:",e),W.ZP.error("Failed to create agent")}finally{c(!1)}},y=()=>{o.resetFields(),u("a2a"),l()},v=(null==j?void 0:j.logo_url)||(null===(t=x.find(e=>"a2a"===e.agent_type))||void 0===t?void 0:t.logo_url);return(0,a.jsx)(K.Z,{title:(0,a.jsxs)("div",{className:"flex items-center space-x-3 pb-4 border-b border-gray-100",children:[v&&(0,a.jsx)("img",{src:v,alt:"Agent",className:"w-6 h-6 object-contain"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Add New Agent"})]}),open:s,onCancel:y,footer:null,width:900,className:"top-8",styles:{body:{padding:"24px"},header:{padding:"24px 24px 0 24px",border:"none"}},children:(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)(G.Z,{form:o,layout:"vertical",onFinish:f,initialValues:"a2a"===m?ea():{},className:"space-y-4",children:[(0,a.jsx)(G.Z.Item,{label:(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Agent Type"}),required:!0,tooltip:"Select the type of agent you want to create",children:(0,a.jsx)(Y.default,{value:m,onChange:e=>{u(e),o.resetFields()},size:"large",style:{width:"100%"},optionLabelProp:"label",children:x.map(e=>(0,a.jsx)(Y.default.Option,{value:e.agent_type,label:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("img",{src:e.logo_url||"",alt:"",className:"w-4 h-4 object-contain"}),(0,a.jsx)("span",{children:e.agent_type_display_name})]}),children:(0,a.jsxs)("div",{className:"flex items-center gap-3 py-1",children:[(0,a.jsx)("img",{src:e.logo_url||"",alt:e.agent_type_display_name,className:"w-5 h-5 object-contain"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.agent_type_display_name}),e.description&&(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.description})]})]})},e.agent_type))})}),(0,a.jsx)("div",{className:"mt-6",children:"a2a"===m?(0,a.jsx)(eo,{showAgentName:!0}):(null==j?void 0:j.use_a2a_form_fields)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eo,{showAgentName:!0}),j.credential_fields.length>0&&(0,a.jsxs)("div",{className:"mt-4 p-4 border border-gray-200 rounded-lg",children:[(0,a.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:[j.agent_type_display_name," Settings"]}),j.credential_fields.map(e=>(0,a.jsx)(G.Z.Item,{label:e.label,name:e.key,rules:e.required?[{required:!0,message:"Please enter ".concat(e.label)}]:void 0,tooltip:e.tooltip,initialValue:e.default_value,children:"password"===e.field_type?(0,a.jsx)(J.default.Password,{placeholder:e.placeholder||""}):(0,a.jsx)(J.default,{placeholder:e.placeholder||""})},e.key))]})]}):j?(0,a.jsx)(em,{agentTypeInfo:j}):null}),(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-100 mt-6",children:[(0,a.jsx)(H.z,{variant:"secondary",onClick:y,children:"Cancel"}),(0,a.jsx)(H.z,{variant:"primary",loading:d,children:d?"Creating...":"Create Agent"})]})]})})})},ex=s(12579),eh=s(74998),ep=s(44633),eg=s(86462),ej=s(49084),ef=s(99981),ey=s(23639),ev=s(71594),eb=s(24525),e_=e=>{let{agentsList:t,isLoading:s,onDeleteClick:l,accessToken:r,onAgentUpdated:i,isAdmin:n,onAgentClick:o}=e,[d,c]=(0,D.useState)([{id:"created_at",desc:!0}]),m=e=>e?new Date(e).toLocaleString():"-",u=e=>{navigator.clipboard.writeText(e)},x=[{header:"Agent Name",accessorKey:"agent_name",cell:e=>{let{row:t}=e,s=t.original,l=s.agent_name||"";return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ef.Z,{title:l,children:(0,a.jsx)(ex.zx,{size:"xs",variant:"light",className:"font-mono text-blue-500 bg-blue-50 hover:bg-blue-100 text-xs font-normal px-2 py-0.5 text-left overflow-hidden truncate min-w-[200px] justify-start",onClick:()=>o(s.agent_id),children:l})}),(0,a.jsx)(ef.Z,{title:"Copy Agent ID",children:(0,a.jsx)(ey.Z,{onClick:e=>{e.stopPropagation(),u(s.agent_id)},className:"cursor-pointer text-gray-500 hover:text-blue-500 text-xs"})})]})}},{header:"Description",accessorKey:"agent_card_params.description",cell:e=>{var t;let{row:s}=e,l=(null===(t=s.original.agent_card_params)||void 0===t?void 0:t.description)||"No description";return(0,a.jsx)("span",{className:"text-xs text-gray-600 block max-w-[300px] truncate",children:l})}},{header:"Created At",accessorKey:"created_at",cell:e=>{let{row:t}=e,s=t.original;return(0,a.jsx)(ef.Z,{title:s.created_at,children:(0,a.jsx)("span",{className:"text-xs",children:m(s.created_at)})})}},...n?[{header:"Actions",id:"actions",enableSorting:!1,cell:e=>{let{row:t}=e,s=t.original;return(0,a.jsx)("div",{className:"flex items-center gap-1",children:(0,a.jsx)(ef.Z,{title:"Delete agent",children:(0,a.jsx)(ex.zx,{size:"xs",variant:"light",color:"red",onClick:e=>{e.stopPropagation(),l(s.agent_id,s.agent_name)},icon:eh.Z,className:"text-red-500 hover:text-red-700 hover:bg-red-50"})})})}}]:[]],h=(0,ev.b7)({data:t,columns:x,state:{sorting:d},onSortingChange:c,getCoreRowModel:(0,eb.sC)(),getSortedRowModel:(0,eb.tj)(),enableSorting:!0});return(0,a.jsx)("div",{className:"rounded-lg custom-border relative",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(ex.iA,{className:"[&_td]:py-0.5 [&_th]:py-1",children:[(0,a.jsx)(ex.ss,{children:h.getHeaderGroups().map(e=>(0,a.jsx)(ex.SC,{children:e.headers.map(e=>(0,a.jsx)(ex.xs,{className:"py-1 h-8",onClick:e.column.getToggleSortingHandler(),children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsx)("div",{className:"flex items-center",children:e.isPlaceholder?null:(0,ev.ie)(e.column.columnDef.header,e.getContext())}),(0,a.jsx)("div",{className:"w-4",children:e.column.getIsSorted()?({asc:(0,a.jsx)(ep.Z,{className:"h-4 w-4 text-blue-500"}),desc:(0,a.jsx)(eg.Z,{className:"h-4 w-4 text-blue-500"})})[e.column.getIsSorted()]:(0,a.jsx)(ej.Z,{className:"h-4 w-4 text-gray-400"})})]})},e.id))},e.id))}),(0,a.jsx)(ex.RM,{children:s?(0,a.jsx)(ex.SC,{children:(0,a.jsx)(ex.pj,{colSpan:x.length,className:"h-8 text-center",children:(0,a.jsx)("div",{className:"text-center text-gray-500",children:(0,a.jsx)("p",{children:"Loading..."})})})}):t&&t.length>0?h.getRowModel().rows.map(e=>(0,a.jsx)(ex.SC,{className:"h-8",children:e.getVisibleCells().map(e=>(0,a.jsx)(ex.pj,{className:"py-0.5 max-h-8 overflow-hidden text-ellipsis whitespace-nowrap",children:(0,ev.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,a.jsx)(ex.SC,{children:(0,a.jsx)(ex.pj,{colSpan:x.length,className:"h-8 text-center",children:(0,a.jsx)("div",{className:"text-center text-gray-500",children:(0,a.jsx)("p",{children:"No agents found. Create one to get started."})})})})})]})})})},eN=s(78489),eZ=s(12514),ew=s(12485),ek=s(18135),eS=s(35242),eC=s(29706),eP=s(77991),eA=s(84264),eT=s(96761),eI=s(10353),eL=s(76188),ez=s(10900),eD=s(21700),eE=e=>{let{agent:t}=e,s=t.litellm_params;return(null==s?void 0:s.cost_per_query)===void 0&&(null==s?void 0:s.input_cost_per_token)===void 0&&(null==s?void 0:s.output_cost_per_token)===void 0?null:(0,a.jsxs)("div",{style:{marginTop:24},children:[(0,a.jsx)(eD.D,{children:"Cost Configuration"}),(0,a.jsxs)(eL.Z,{bordered:!0,column:1,style:{marginTop:16},children:[void 0!==s.cost_per_query&&(0,a.jsxs)(eL.Z.Item,{label:"Cost Per Query",children:["$",s.cost_per_query]}),void 0!==s.input_cost_per_token&&(0,a.jsxs)(eL.Z.Item,{label:"Input Cost Per Token",children:["$",s.input_cost_per_token]}),void 0!==s.output_cost_per_token&&(0,a.jsxs)(eL.Z.Item,{label:"Output Cost Per Token",children:["$",s.output_cost_per_token]})]})]})};let eM=e=>{var t,s;let a=(null===(t=e.litellm_params)||void 0===t?void 0:t.model)||"",l=null===(s=e.litellm_params)||void 0===s?void 0:s.custom_llm_provider;return"langgraph"===l?"langgraph":"azure_ai"===l?"azure_ai_foundry":"bedrock"===l?"bedrock_agentcore":a.startsWith("langgraph/")?"langgraph":a.startsWith("azure_ai/agents/")?"azure_ai_foundry":a.startsWith("bedrock/agentcore/")?"bedrock_agentcore":"a2a"},eF=(e,t)=>{var s,a,l,r,i,n;let o={agent_name:e.agent_name,description:(null===(s=e.agent_card_params)||void 0===s?void 0:s.description)||""};for(let s of t.credential_fields)if(!1!==s.include_in_litellm_params)o[s.key]=(null===(i=e.litellm_params)||void 0===i?void 0:i[s.key])||s.default_value||"";else if(t.model_template&&(null===(n=e.litellm_params)||void 0===n?void 0:n.model)){let a=e.litellm_params.model,l=t.model_template.split("/"),r=a.split("/");l.forEach((e,t)=>{e==="{".concat(s.key,"}")&&r[t]&&(o[s.key]=r[t])})}return o.cost_per_query=null===(a=e.litellm_params)||void 0===a?void 0:a.cost_per_query,o.input_cost_per_token=null===(l=e.litellm_params)||void 0===l?void 0:l.input_cost_per_token,o.output_cost_per_token=null===(r=e.litellm_params)||void 0===r?void 0:r.output_cost_per_token,o};var eO=e=>{var t,s,l,r,i,o,d,c,m,u,x,h,p,g,j,f,y,v;let{agentId:b,onClose:_,accessToken:N,isAdmin:Z}=e,[w,k]=(0,D.useState)(null),[S,C]=(0,D.useState)(!0),[P,A]=(0,D.useState)(!1),[T,I]=(0,D.useState)(!1),[L]=G.Z.useForm(),[z,E]=(0,D.useState)([]),[M,F]=(0,D.useState)("a2a");(0,D.useEffect)(()=>{(async()=>{try{let e=await (0,n.getAgentCreateMetadata)();E(e)}catch(e){console.error("Error fetching agent metadata:",e)}})()},[]),(0,D.useEffect)(()=>{O()},[b,N]);let O=async()=>{if(N){C(!0);try{let e=await (0,n.getAgentInfo)(N,b);k(e);let t=eM(e);if(F(t),"a2a"===t)L.setFieldsValue(er(e));else{let s=z.find(e=>e.agent_type===t);s?L.setFieldsValue(eF(e,s)):L.setFieldsValue(er(e))}}catch(e){console.error("Error fetching agent info:",e),W.ZP.error("Failed to load agent information")}finally{C(!1)}}};(0,D.useEffect)(()=>{if(w&&z.length>0){let e=eM(w);if("a2a"!==e){let t=z.find(t=>t.agent_type===e);t&&L.setFieldsValue(eF(w,t))}}},[z,w]);let R=z.find(e=>e.agent_type===M),B=async e=>{if(N&&w){I(!0);try{let t;"a2a"===M?t=el(e,w):R?(t=ec(e,R)).agent_name=e.agent_name:t=el(e,w),await (0,n.patchAgentCall)(N,b,t),W.ZP.success("Agent updated successfully"),A(!1),O()}catch(e){console.error("Error updating agent:",e),W.ZP.error("Failed to update agent")}finally{I(!1)}}};if(S)return(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)(eI.Z,{size:"large"})})});if(!w)return(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("div",{className:"text-center",children:"Agent not found"}),(0,a.jsx)(eN.Z,{onClick:_,className:"mt-4",children:"Back to Agents List"})]});let q=e=>e?new Date(e).toLocaleString():"-";return(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(eN.Z,{icon:ez.Z,variant:"light",onClick:_,className:"mb-4",children:"Back to Agents"}),(0,a.jsx)(eT.Z,{children:w.agent_name||"Unnamed Agent"}),(0,a.jsx)(eA.Z,{className:"text-gray-500 font-mono",children:w.agent_id})]}),(0,a.jsxs)(ek.Z,{children:[(0,a.jsxs)(eS.Z,{className:"mb-4",children:[(0,a.jsx)(ew.Z,{children:"Overview"},"overview"),Z?(0,a.jsx)(ew.Z,{children:"Settings"},"settings"):(0,a.jsx)(a.Fragment,{})]}),(0,a.jsxs)(eP.Z,{children:[(0,a.jsxs)(eC.Z,{children:[(0,a.jsxs)(eL.Z,{bordered:!0,column:1,children:[(0,a.jsx)(eL.Z.Item,{label:"Agent ID",children:w.agent_id}),(0,a.jsx)(eL.Z.Item,{label:"Agent Name",children:w.agent_name}),(0,a.jsx)(eL.Z.Item,{label:"Display Name",children:(null===(t=w.agent_card_params)||void 0===t?void 0:t.name)||"-"}),(0,a.jsx)(eL.Z.Item,{label:"Description",children:(null===(s=w.agent_card_params)||void 0===s?void 0:s.description)||"-"}),(0,a.jsx)(eL.Z.Item,{label:"URL",children:(null===(l=w.agent_card_params)||void 0===l?void 0:l.url)||"-"}),(0,a.jsx)(eL.Z.Item,{label:"Version",children:(null===(r=w.agent_card_params)||void 0===r?void 0:r.version)||"-"}),(0,a.jsx)(eL.Z.Item,{label:"Protocol Version",children:(null===(i=w.agent_card_params)||void 0===i?void 0:i.protocolVersion)||"-"}),(0,a.jsx)(eL.Z.Item,{label:"Streaming",children:(null===(d=w.agent_card_params)||void 0===d?void 0:null===(o=d.capabilities)||void 0===o?void 0:o.streaming)?"Yes":"No"}),(null===(m=w.agent_card_params)||void 0===m?void 0:null===(c=m.capabilities)||void 0===c?void 0:c.pushNotifications)&&(0,a.jsx)(eL.Z.Item,{label:"Push Notifications",children:"Yes"}),(null===(x=w.agent_card_params)||void 0===x?void 0:null===(u=x.capabilities)||void 0===u?void 0:u.stateTransitionHistory)&&(0,a.jsx)(eL.Z.Item,{label:"State Transition History",children:"Yes"}),(0,a.jsxs)(eL.Z.Item,{label:"Skills",children:[(null===(p=w.agent_card_params)||void 0===p?void 0:null===(h=p.skills)||void 0===h?void 0:h.length)||0," configured"]}),(null===(g=w.litellm_params)||void 0===g?void 0:g.model)&&(0,a.jsx)(eL.Z.Item,{label:"Model",children:w.litellm_params.model}),(null===(j=w.litellm_params)||void 0===j?void 0:j.make_public)!==void 0&&(0,a.jsx)(eL.Z.Item,{label:"Make Public",children:w.litellm_params.make_public?"Yes":"No"}),(null===(f=w.agent_card_params)||void 0===f?void 0:f.iconUrl)&&(0,a.jsx)(eL.Z.Item,{label:"Icon URL",children:w.agent_card_params.iconUrl}),(null===(y=w.agent_card_params)||void 0===y?void 0:y.documentationUrl)&&(0,a.jsx)(eL.Z.Item,{label:"Documentation URL",children:w.agent_card_params.documentationUrl}),(0,a.jsx)(eL.Z.Item,{label:"Created At",children:q(w.created_at)}),(0,a.jsx)(eL.Z.Item,{label:"Updated At",children:q(w.updated_at)})]}),(0,a.jsx)(eE,{agent:w}),(null===(v=w.agent_card_params)||void 0===v?void 0:v.skills)&&w.agent_card_params.skills.length>0&&(0,a.jsxs)("div",{style:{marginTop:24},children:[(0,a.jsx)(eT.Z,{children:"Skills"}),(0,a.jsx)(eL.Z,{bordered:!0,column:1,style:{marginTop:16},children:w.agent_card_params.skills.map((e,t)=>(0,a.jsx)(eL.Z.Item,{label:e.name||"Skill ".concat(t+1),children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"ID:"})," ",e.id]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Description:"})," ",e.description]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Tags:"})," ",Array.isArray(e.tags)?e.tags.join(", "):e.tags]}),e.examples&&e.examples.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Examples:"})," ",Array.isArray(e.examples)?e.examples.join(", "):e.examples]})]})},t))})]})]}),Z&&(0,a.jsx)(eC.Z,{children:(0,a.jsxs)(eZ.Z,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)(eT.Z,{children:"Agent Settings"}),!P&&(0,a.jsx)(eN.Z,{onClick:()=>A(!0),children:"Edit Settings"})]}),P?(0,a.jsxs)(G.Z,{form:L,layout:"vertical",onFinish:B,children:[(0,a.jsx)(G.Z.Item,{label:"Agent ID",children:(0,a.jsx)(J.default,{value:w.agent_id,disabled:!0})}),"a2a"===M?(0,a.jsx)(eo,{showAgentName:!0}):R?(0,a.jsx)(em,{agentTypeInfo:R}):(0,a.jsx)(eo,{showAgentName:!0}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,a.jsx)(X.ZP,{onClick:()=>{A(!1),O()},children:"Cancel"}),(0,a.jsx)(eN.Z,{loading:T,children:"Save Changes"})]})]}):(0,a.jsx)(eA.Z,{children:'Click "Edit Settings" to modify agent configuration.'})]})})]})]})]})},eR=s(9114),eB=e=>{let{accessToken:t,userRole:s}=e,[l,r]=(0,D.useState)([]),[i,o]=(0,D.useState)(!1),[d,c]=(0,D.useState)(!1),[m,u]=(0,D.useState)(!1),[x,h]=(0,D.useState)(null),[p,g]=(0,D.useState)(null),j=!!s&&(0,E.tY)(s),f=async()=>{if(t){c(!0);try{let e=await (0,n.getAgentsList)(t);console.log("agents: ".concat(JSON.stringify(e))),r(e.agents)}catch(e){console.error("Error fetching agents:",e)}finally{c(!1)}}};(0,D.useEffect)(()=>{f()},[t]);let y=async()=>{if(x&&t){u(!0);try{await (0,n.deleteAgentCall)(t,x.id),eR.Z.success('Agent "'.concat(x.name,'" deleted successfully')),f()}catch(e){console.error("Error deleting agent:",e),eR.Z.fromBackend("Failed to delete agent")}finally{u(!1),h(null)}}};return(0,a.jsxs)("div",{className:"w-full mx-auto flex-auto overflow-y-auto m-8 p-2",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 mb-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Agents"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"List of A2A-spec agents that are available to be used in your organization. Go to AI Hub, to make agents public."}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(H.z,{onClick:()=>{p&&g(null),o(!0)},disabled:!t,children:"+ Add New Agent"})})]}),p?(0,a.jsx)(eO,{agentId:p,onClose:()=>g(null),accessToken:t,isAdmin:j}):(0,a.jsx)(e_,{agentsList:l,isLoading:d,onDeleteClick:(e,t)=>{h({id:e,name:t})},accessToken:t,onAgentUpdated:f,isAdmin:j,onAgentClick:e=>g(e)}),(0,a.jsx)(eu,{visible:i,onClose:()=>{o(!1)},accessToken:t,onSuccess:()=>{f()}}),x&&(0,a.jsxs)(K.Z,{title:"Delete Agent",open:null!==x,onOk:y,onCancel:()=>{h(null)},confirmLoading:m,okText:"Delete",okButtonProps:{danger:!0},children:[(0,a.jsxs)("p",{children:["Are you sure you want to delete agent: ",x.name,"?"]}),(0,a.jsx)("p",{children:"This action cannot be undone."})]})]})},eq=s(54939),eU=s(66600),eV=s(39210),eH=s(94987),eK=s(87452),eG=s(88829),eW=s(72208),eY=s(47323),eJ=s(49566),e$=s(82422),eQ=s(3837),eX=s(53410),e0=s(21626),e1=s(97214),e2=s(28241),e4=s(58834),e5=s(69552),e6=s(71876);function e3(e){let{data:t,columns:s,isLoading:l=!1,loadingMessage:r="Loading...",emptyMessage:i="No data",getRowKey:n}=e;return(0,a.jsxs)(e0.Z,{children:[(0,a.jsx)(e4.Z,{children:(0,a.jsx)(e6.Z,{children:s.map((e,t)=>(0,a.jsx)(e5.Z,{style:{width:e.width},children:e.header},t))})}),(0,a.jsx)(e1.Z,{children:l?(0,a.jsx)(e6.Z,{children:(0,a.jsx)(e2.Z,{colSpan:s.length,className:"text-center",children:(0,a.jsx)(eA.Z,{className:"text-gray-500",children:r})})}):t.length>0?t.map((e,t)=>(0,a.jsx)(e6.Z,{children:s.map((t,s)=>{var l;return(0,a.jsx)(e2.Z,{children:t.cell?t.cell(e):String(null!==(l=e[t.accessor])&&void 0!==l?l:"")},s)})},n?n(e,t):t)):(0,a.jsx)(e6.Z,{children:(0,a.jsx)(e2.Z,{colSpan:s.length,className:"text-center",children:(0,a.jsx)(eA.Z,{className:"text-gray-500",children:i})})})})]})}var e8=s(42673);let e9=e=>{let t=Object.keys(e8.fK).find(t=>e8.fK[t]===e);if(t){let e=e8.Cl[t],s=e8.cd[e];return{displayName:e,logo:s,enumKey:t}}return{displayName:e,logo:"",enumKey:null}},e7=e=>e8.fK[e]||null,te=(e,t)=>{let s=e.target,a=s.parentElement;if(a){let e=document.createElement("div");e.className="w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-xs",e.textContent=t.charAt(0),a.replaceChild(e,s)}};var tt=e=>{let{discountConfig:t,onDiscountChange:s,onRemoveProvider:l}=e,[r,i]=(0,D.useState)(null),[n,o]=(0,D.useState)(""),d=(e,t)=>{i(e),o((100*t).toString())},c=e=>{let t=parseFloat(n);!isNaN(t)&&t>=0&&t<=100&&s(e,(t/100).toString()),i(null),o("")},m=()=>{i(null),o("")},u=(e,t)=>{"Enter"===e.key?c(t):"Escape"===e.key&&m()},x=Object.entries(t).map(e=>{let[t,s]=e;return{provider:t,discount:s}}).sort((e,t)=>{let s=e9(e.provider).displayName,a=e9(t.provider).displayName;return s.localeCompare(a)});return(0,a.jsx)(e3,{data:x,columns:[{header:"Provider",cell:e=>{let{displayName:t,logo:s}=e9(e.provider);return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[s&&(0,a.jsx)("img",{src:s,alt:"".concat(t," logo"),className:"w-5 h-5",onError:e=>te(e,t)}),(0,a.jsx)("span",{className:"font-medium",children:t})]})}},{header:"Discount Percentage",cell:e=>(0,a.jsx)("div",{className:"flex items-center gap-2",children:r===e.provider?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eJ.Z,{value:n,onValueChange:o,onKeyDown:t=>u(t,e.provider),placeholder:"5",className:"w-20",autoFocus:!0}),(0,a.jsx)("span",{className:"text-gray-600",children:"%"}),(0,a.jsx)(eY.Z,{icon:e$.Z,size:"sm",onClick:()=>c(e.provider),className:"cursor-pointer text-green-600 hover:text-green-700"}),(0,a.jsx)(eY.Z,{icon:eQ.Z,size:"sm",onClick:m,className:"cursor-pointer text-gray-600 hover:text-gray-700"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(eA.Z,{className:"font-medium",children:[(100*e.discount).toFixed(1),"%"]}),(0,a.jsx)(eY.Z,{icon:eX.Z,size:"sm",onClick:()=>d(e.provider,e.discount),className:"cursor-pointer text-blue-600 hover:text-blue-700"})]})}),width:"250px"},{header:"Actions",cell:e=>{let{displayName:t}=e9(e.provider);return(0,a.jsx)(eY.Z,{icon:eh.Z,size:"sm",onClick:()=>l(e.provider,t),className:"cursor-pointer hover:text-red-600"})},width:"80px"}],getRowKey:e=>e.provider,emptyMessage:"No provider discounts configured"})},ts=s(64504),ta=s(15424),tl=e=>{let{discountConfig:t,selectedProvider:s,newDiscount:l,onProviderChange:r,onDiscountChange:i,onAddProvider:n}=e;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(G.Z.Item,{label:(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:["Provider",(0,a.jsx)(ef.Z,{title:"Select the LLM provider you want to configure a discount for",children:(0,a.jsx)(ta.Z,{className:"ml-2 text-blue-400 hover:text-blue-600 cursor-help"})})]}),rules:[{required:!0,message:"Please select a provider"}],children:(0,a.jsx)(Y.default,{showSearch:!0,placeholder:"Select provider",value:s,onChange:r,style:{width:"100%"},size:"large",optionFilterProp:"children",filterOption:(e,t)=>{var s;return String(null!==(s=null==t?void 0:t.label)&&void 0!==s?s:"").toLowerCase().includes(e.toLowerCase())},children:Object.entries(e8.Cl).map(e=>{let[s,l]=e,r=e8.fK[s];return r&&t[r]?null:(0,a.jsx)(Y.default.Option,{value:s,label:l,children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("img",{src:e8.cd[l],alt:"".concat(s," logo"),className:"w-5 h-5",onError:e=>te(e,l)}),(0,a.jsx)("span",{children:l})]})},s)})})}),(0,a.jsx)(G.Z.Item,{label:(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:["Discount Percentage",(0,a.jsx)(ef.Z,{title:"Enter a percentage value (e.g., 5 for 5% discount)",children:(0,a.jsx)(ta.Z,{className:"ml-2 text-blue-400 hover:text-blue-600 cursor-help"})})]}),rules:[{required:!0,message:"Please enter a discount percentage"}],children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ts.o,{placeholder:"5",value:l,onValueChange:i,className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500 flex-1"}),(0,a.jsx)("span",{className:"text-gray-600",children:"%"})]})}),(0,a.jsx)("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-100",children:(0,a.jsx)(ts.z,{variant:"primary",onClick:n,disabled:!s||!l,children:"Add Provider Discount"})})]})},tr=e=>{let{marginConfig:t,onMarginChange:s,onRemoveProvider:l}=e,[r,i]=(0,D.useState)(null),[n,o]=(0,D.useState)(""),[d,c]=(0,D.useState)(""),m=(e,t)=>{i(e),"number"==typeof t?(o((100*t).toString()),c("")):(o(t.percentage?(100*t.percentage).toString():""),c(t.fixed_amount?t.fixed_amount.toString():""))},u=e=>{let t=n?parseFloat(n):void 0,a=d?parseFloat(d):void 0;void 0!==t&&!isNaN(t)&&t>=0&&t<=1e3?void 0!==a&&!isNaN(a)&&a>=0?s(e,{percentage:t/100,fixed_amount:a}):s(e,t/100):void 0!==a&&!isNaN(a)&&a>=0&&s(e,{fixed_amount:a}),i(null),o(""),c("")},x=()=>{i(null),o(""),c("")},h=e=>{if("number"==typeof e)return"".concat((100*e).toFixed(1),"%");let t=[];return void 0!==e.percentage&&t.push("".concat((100*e.percentage).toFixed(1),"%")),void 0!==e.fixed_amount&&t.push("$".concat(e.fixed_amount.toFixed(6))),t.join(" + ")||"0%"},p=Object.entries(t).map(e=>{let[t,s]=e;return{provider:t,margin:s}}).sort((e,t)=>{if("global"===e.provider)return -1;if("global"===t.provider)return 1;let s=e9(e.provider).displayName,a=e9(t.provider).displayName;return s.localeCompare(a)});return(0,a.jsx)(e3,{data:p,columns:[{header:"Provider",cell:e=>{if("global"===e.provider)return(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)("span",{className:"font-medium",children:"Global (All Providers)"})});let{displayName:t,logo:s}=e9(e.provider);return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[s&&(0,a.jsx)("img",{src:s,alt:"".concat(t," logo"),className:"w-5 h-5",onError:e=>te(e,t)}),(0,a.jsx)("span",{className:"font-medium",children:t})]})}},{header:"Margin",cell:e=>(0,a.jsx)("div",{className:"flex items-center gap-2",children:r===e.provider?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eJ.Z,{value:n,onValueChange:o,placeholder:"10",className:"w-20",autoFocus:!0}),(0,a.jsx)("span",{className:"text-gray-600",children:"%"}),(0,a.jsx)("span",{className:"text-gray-400",children:"+"}),(0,a.jsx)("span",{className:"text-gray-600",children:"$"}),(0,a.jsx)(eJ.Z,{value:d,onValueChange:c,placeholder:"0.001",className:"w-24"})]}),(0,a.jsx)(eY.Z,{icon:e$.Z,size:"sm",onClick:()=>u(e.provider),className:"cursor-pointer text-green-600 hover:text-green-700"}),(0,a.jsx)(eY.Z,{icon:eQ.Z,size:"sm",onClick:x,className:"cursor-pointer text-gray-600 hover:text-gray-700"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eA.Z,{className:"font-medium",children:h(e.margin)}),(0,a.jsx)(eY.Z,{icon:eX.Z,size:"sm",onClick:()=>m(e.provider,e.margin),className:"cursor-pointer text-blue-600 hover:text-blue-700"})]})}),width:"350px"},{header:"Actions",cell:e=>{let t="global"===e.provider?"Global":e9(e.provider).displayName;return(0,a.jsx)(eY.Z,{icon:eh.Z,size:"sm",onClick:()=>l(e.provider,t),className:"cursor-pointer hover:text-red-600"})},width:"80px"}],getRowKey:e=>e.provider,emptyMessage:"No provider margins configured"})},ti=s(29967),tn=e=>{let{marginConfig:t,selectedProvider:s,marginType:l,percentageValue:r,fixedAmountValue:i,onProviderChange:n,onMarginTypeChange:o,onPercentageChange:d,onFixedAmountChange:c,onAddProvider:m}=e;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(G.Z.Item,{label:(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:["Provider",(0,a.jsx)(ef.Z,{title:"Select 'Global' to apply margin to all providers, or select a specific provider",children:(0,a.jsx)(ta.Z,{className:"ml-2 text-blue-400 hover:text-blue-600 cursor-help"})})]}),rules:[{required:!0,message:"Please select a provider"}],children:(0,a.jsxs)(Y.default,{showSearch:!0,placeholder:"Select provider or 'Global'",value:s,onChange:n,style:{width:"100%"},size:"large",optionFilterProp:"children",filterOption:(e,t)=>{var s;return String(null!==(s=null==t?void 0:t.label)&&void 0!==s?s:"").toLowerCase().includes(e.toLowerCase())},children:[(0,a.jsx)(Y.default.Option,{value:"global",label:"Global (All Providers)",children:(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)("span",{className:"font-medium",children:"Global (All Providers)"})})},"global"),Object.entries(e8.Cl).map(e=>{let[s,l]=e,r=e8.fK[s];return r&&t[r]?null:(0,a.jsx)(Y.default.Option,{value:s,label:l,children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("img",{src:e8.cd[l],alt:"".concat(s," logo"),className:"w-5 h-5",onError:e=>te(e,l)}),(0,a.jsx)("span",{children:l})]})},s)})]})}),(0,a.jsx)(G.Z.Item,{label:(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:["Margin Type",(0,a.jsx)(ef.Z,{title:"Choose how to apply the margin: percentage-based or fixed amount",children:(0,a.jsx)(ta.Z,{className:"ml-2 text-blue-400 hover:text-blue-600 cursor-help"})})]}),rules:[{required:!0,message:"Please select a margin type"}],children:(0,a.jsxs)(ti.ZP.Group,{value:l,onChange:e=>o(e.target.value),className:"w-full",children:[(0,a.jsx)(ti.ZP,{value:"percentage",children:"Percentage-based"}),(0,a.jsx)(ti.ZP,{value:"fixed",children:"Fixed Amount"})]})}),"percentage"===l&&(0,a.jsx)(G.Z.Item,{label:(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:["Margin Percentage",(0,a.jsx)(ef.Z,{title:"Enter a percentage value (e.g., 10 for 10% margin)",children:(0,a.jsx)(ta.Z,{className:"ml-2 text-blue-400 hover:text-blue-600 cursor-help"})})]}),rules:[{required:!0,message:"Please enter a margin percentage"},{validator:(e,t)=>{if(!t)return Promise.reject(Error("Please enter a margin percentage"));let s=parseFloat(t);return isNaN(s)||s<0||s>1e3?Promise.reject(Error("Percentage must be between 0 and 1000")):Promise.resolve()}}],children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ts.o,{placeholder:"10",value:r,onValueChange:d,className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500 flex-1"}),(0,a.jsx)("span",{className:"text-gray-600",children:"%"})]})}),"fixed"===l&&(0,a.jsx)(G.Z.Item,{label:(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:["Fixed Margin Amount",(0,a.jsx)(ef.Z,{title:"Enter a fixed amount in USD (e.g., 0.001 for $0.001 per request)",children:(0,a.jsx)(ta.Z,{className:"ml-2 text-blue-400 hover:text-blue-600 cursor-help"})})]}),rules:[{required:!0,message:"Please enter a fixed amount"},{validator:(e,t)=>{if(!t)return Promise.reject(Error("Please enter a fixed amount"));let s=parseFloat(t);return isNaN(s)||s<0?Promise.reject(Error("Fixed amount must be non-negative")):Promise.resolve()}}],children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"$"}),(0,a.jsx)(ts.o,{placeholder:"0.001",value:i,onValueChange:c,className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500 flex-1"})]})}),(0,a.jsx)("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-100",children:(0,a.jsx)(ts.z,{variant:"primary",onClick:m,disabled:!s||"percentage"===l&&!r||"fixed"===l&&!i,children:"Add Provider Margin"})})]})},to=s(29271),td=s(40875),tc=s(96362);let tm=e=>{let{items:t,children:s="Docs",className:l=""}=e,[r,i]=(0,D.useState)(!1),n=(0,D.useRef)(null);return(0,D.useEffect)(()=>{let e=e=>{n.current&&!n.current.contains(e.target)&&i(!1)};return r&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[r]),(0,a.jsxs)("div",{className:"relative inline-block ".concat(l),ref:n,children:[(0,a.jsxs)("button",{type:"button",onClick:()=>i(!r),className:"inline-flex items-center gap-1 text-gray-500 hover:text-gray-700 text-xs transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 rounded px-2 py-1","aria-expanded":r,"aria-haspopup":"true",children:[(0,a.jsx)("span",{children:s}),(0,a.jsx)(td.Z,{className:"h-3 w-3 transition-transform ".concat(r?"rotate-180":""),"aria-hidden":"true"})]}),r&&(0,a.jsx)("div",{className:"absolute right-0 mt-1 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:t.map((e,t)=>(0,a.jsxs)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>i(!1),children:[(0,a.jsx)("span",{children:e.label}),(0,a.jsx)(tc.Z,{className:"h-3.5 w-3.5 text-gray-400 flex-shrink-0 ml-2","aria-hidden":"true"})]},t))})]})};var tu=s(56522),tx=s(25653),th=()=>{let[e,t]=(0,D.useState)(""),[s,l]=(0,D.useState)(""),r=(0,D.useMemo)(()=>{let t=parseFloat(e),a=parseFloat(s);if(isNaN(t)||isNaN(a)||0===t||0===a)return null;let l=t+a;return{originalCost:l.toFixed(10),finalCost:t.toFixed(10),discountAmount:a.toFixed(10),discountPercentage:(a/l*100).toFixed(2)}},[e,s]);return(0,a.jsxs)("div",{className:"space-y-4 pt-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(tu.x,{className:"font-medium text-gray-900 text-sm mb-1",children:"Cost Calculation"}),(0,a.jsxs)(tu.x,{className:"text-xs text-gray-600",children:["Discounts are applied to provider costs: ",(0,a.jsx)("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-xs",children:"final_cost = base_cost \xd7 (1 - discount%/100)"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(tu.x,{className:"font-medium text-gray-900 text-sm mb-1",children:"Example"}),(0,a.jsx)(tu.x,{className:"text-xs text-gray-600",children:"A 5% discount on a $10.00 request results in: $10.00 \xd7 (1 - 0.05) = $9.50"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(tu.x,{className:"font-medium text-gray-900 text-sm mb-1",children:"Valid Range"}),(0,a.jsx)(tu.x,{className:"text-xs text-gray-600",children:"Discount percentages must be between 0% and 100%"})]}),(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,a.jsx)(tu.x,{className:"font-medium text-gray-900 text-sm mb-2",children:"Validating Discounts"}),(0,a.jsx)(tu.x,{className:"text-xs text-gray-600 mb-3",children:"Make a test request and check the response headers to verify discounts are applied:"}),(0,a.jsx)(tx.Z,{language:"bash",code:'curl -X POST -i http://your-proxy:4000/chat/completions \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer sk-1234" \\\n  -d \'{\n    "model": "gemini/gemini-2.5-pro",\n    "messages": [{"role": "user", "content": "Hello"}]\n  }\''}),(0,a.jsx)(tu.x,{className:"text-xs text-gray-600 mt-3 mb-2",children:"Look for these headers in the response:"}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs font-mono text-gray-800 whitespace-nowrap",children:"x-litellm-response-cost"}),(0,a.jsx)(tu.x,{className:"text-xs text-gray-600",children:"Final cost after discount"})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs font-mono text-gray-800 whitespace-nowrap",children:"x-litellm-response-cost-original"}),(0,a.jsx)(tu.x,{className:"text-xs text-gray-600",children:"Original cost before discount"})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs font-mono text-gray-800 whitespace-nowrap",children:"x-litellm-response-cost-discount-amount"}),(0,a.jsx)(tu.x,{className:"text-xs text-gray-600",children:"Amount discounted"})]})]})]}),(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,a.jsx)(tu.x,{className:"font-medium text-gray-900 text-sm mb-3",children:"Discount Calculator"}),(0,a.jsx)(tu.x,{className:"text-xs text-gray-600 mb-3",children:"Enter values from your response headers to verify the discount:"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Response Cost (x-litellm-response-cost)"}),(0,a.jsx)(tu.o,{placeholder:"0.0171938125",value:e,onValueChange:t,className:"text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Discount Amount (x-litellm-response-cost-discount-amount)"}),(0,a.jsx)(tu.o,{placeholder:"0.0009049375",value:s,onValueChange:l,className:"text-sm"})]})]}),r&&(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,a.jsx)(tu.x,{className:"text-sm font-medium text-blue-900 mb-2",children:"Calculated Results"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(tu.x,{className:"text-xs text-blue-800",children:"Original Cost:"}),(0,a.jsxs)("code",{className:"text-xs font-mono text-blue-900",children:["$",r.originalCost]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(tu.x,{className:"text-xs text-blue-800",children:"Final Cost:"}),(0,a.jsxs)("code",{className:"text-xs font-mono text-blue-900",children:["$",r.finalCost]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(tu.x,{className:"text-xs text-blue-800",children:"Discount Amount:"}),(0,a.jsxs)("code",{className:"text-xs font-mono text-blue-900",children:["$",r.discountAmount]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-blue-300",children:[(0,a.jsx)(tu.x,{className:"text-xs font-semibold text-blue-900",children:"Discount Applied:"}),(0,a.jsxs)(tu.x,{className:"text-sm font-bold text-blue-900",children:[r.discountPercentage,"%"]})]})]})]})]})]})};let tp=[{label:"Custom pricing for models",href:"https://docs.litellm.ai/docs/proxy/custom_pricing"},{label:"Spend tracking",href:"https://docs.litellm.ai/docs/proxy/cost_tracking"}];var tg=e=>{let{userID:t,userRole:s,accessToken:l}=e,[r,i]=(0,D.useState)(void 0),[o,d]=(0,D.useState)(""),[c,m]=(0,D.useState)(!0),[u,x]=(0,D.useState)(!1),[h,p]=(0,D.useState)(!1),[g,j]=(0,D.useState)(void 0),[f,y]=(0,D.useState)("percentage"),[v,b]=(0,D.useState)(""),[_,N]=(0,D.useState)(""),[Z]=G.Z.useForm(),[w]=G.Z.useForm(),[k,S]=K.Z.useModal(),{discountConfig:C,fetchDiscountConfig:P,handleAddProvider:A,handleRemoveProvider:T,handleDiscountChange:I}=function(e){let{accessToken:t}=e,[s,a]=(0,D.useState)({}),l=(0,D.useCallback)(async()=>{try{let e=(0,n.getProxyBaseUrl)(),s=await fetch(e?"".concat(e,"/config/cost_discount_config"):"/config/cost_discount_config",{method:"GET",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(s.ok){let e=await s.json();a(e.values||{})}else console.error("Failed to fetch discount config")}catch(e){console.error("Error fetching discount config:",e),eR.Z.fromBackend("Failed to fetch discount configuration")}},[t]),r=(0,D.useCallback)(async e=>{try{let a=(0,n.getProxyBaseUrl)(),r=await fetch(a?"".concat(a,"/config/cost_discount_config"):"/config/cost_discount_config",{method:"PATCH",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(e)});if(r.ok)eR.Z.success("Discount configuration updated successfully"),await l();else{var s;let e=await r.json(),t=(null===(s=e.detail)||void 0===s?void 0:s.error)||e.detail||"Failed to update settings";eR.Z.fromBackend(t)}}catch(e){console.error("Error updating discount config:",e),eR.Z.fromBackend("Failed to update discount configuration")}},[t,l]),i=(0,D.useCallback)(async(e,t)=>{if(!e||!t)return eR.Z.fromBackend("Please select a provider and enter discount percentage"),!1;let l=parseFloat(t);if(isNaN(l)||l<0||l>100)return eR.Z.fromBackend("Discount must be between 0% and 100%"),!1;let i=e7(e);if(!i)return eR.Z.fromBackend("Invalid provider selected"),!1;if(s[i])return eR.Z.fromBackend("Discount for ".concat(e8.Cl[e]," already exists. Edit it in the table above.")),!1;let n={...s,[i]:l/100};return a(n),await r(n),!0},[s,r]),o=(0,D.useCallback)(async e=>{let t={...s};delete t[e],a(t),await r(t)},[s,r]),d=(0,D.useCallback)(async(e,t)=>{let l=parseFloat(t);if(!isNaN(l)&&l>=0&&l<=1){let t={...s,[e]:l};a(t),await r(t)}},[s,r]);return{discountConfig:s,setDiscountConfig:a,fetchDiscountConfig:l,saveDiscountConfig:r,handleAddProvider:i,handleRemoveProvider:o,handleDiscountChange:d}}({accessToken:l}),{marginConfig:L,fetchMarginConfig:z,handleAddMargin:E,handleRemoveMargin:M,handleMarginChange:F}=function(e){let{accessToken:t}=e,[s,a]=(0,D.useState)({}),l=(0,D.useCallback)(async()=>{try{let e=(0,n.getProxyBaseUrl)(),s=await fetch(e?"".concat(e,"/config/cost_margin_config"):"/config/cost_margin_config",{method:"GET",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(s.ok){let e=await s.json();a(e.values||{})}else console.error("Failed to fetch margin config")}catch(e){console.error("Error fetching margin config:",e),eR.Z.fromBackend("Failed to fetch margin configuration")}},[t]),r=(0,D.useCallback)(async e=>{try{let a=(0,n.getProxyBaseUrl)(),r=await fetch(a?"".concat(a,"/config/cost_margin_config"):"/config/cost_margin_config",{method:"PATCH",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(e)});if(r.ok)eR.Z.success("Margin configuration updated successfully"),await l();else{var s;let e=await r.json(),t=(null===(s=e.detail)||void 0===s?void 0:s.error)||e.detail||"Failed to update settings";eR.Z.fromBackend(t)}}catch(e){console.error("Error updating margin config:",e),eR.Z.fromBackend("Failed to update margin configuration")}},[t,l]),i=(0,D.useCallback)(async e=>{let t,l;let{selectedProvider:i,marginType:n,percentageValue:o,fixedAmountValue:d}=e;if(!i)return eR.Z.fromBackend("Please select a provider"),!1;if("global"===i)t="global";else{let e=e7(i);if(!e)return eR.Z.fromBackend("Invalid provider selected"),!1;t=e}if(s[t]){let e="global"===t?"Global":e8.Cl[i];return eR.Z.fromBackend("Margin for ".concat(e," already exists. Edit it in the table above.")),!1}if("percentage"===n){let e=parseFloat(o);if(isNaN(e)||e<0||e>1e3)return eR.Z.fromBackend("Percentage must be between 0% and 1000%"),!1;l=e/100}else{let e=parseFloat(d);if(isNaN(e)||e<0)return eR.Z.fromBackend("Fixed amount must be non-negative"),!1;l={fixed_amount:e}}let c={...s,[t]:l};return a(c),await r(c),!0},[s,r]),o=(0,D.useCallback)(async e=>{let t={...s};delete t[e],a(t),await r(t)},[s,r]),d=(0,D.useCallback)(async(e,t)=>{let l={...s,[e]:t};a(l),await r(l)},[s,r]);return{marginConfig:s,setMarginConfig:a,fetchMarginConfig:l,saveMarginConfig:r,handleAddMargin:i,handleRemoveMargin:o,handleMarginChange:d}}({accessToken:l});(0,D.useEffect)(()=>{l&&Promise.all([P(),z()]).finally(()=>{m(!1)})},[l,P,z]);let O=async()=>{await A(r,o)&&(i(void 0),d(""),x(!1))},R=async(e,t)=>{k.confirm({title:"Remove Provider Discount",icon:(0,a.jsx)(to.Z,{}),content:"Are you sure you want to remove the discount for ".concat(t,"?"),okText:"Remove",okType:"danger",cancelText:"Cancel",onOk:()=>T(e)})},B=async()=>{await E({selectedProvider:g,marginType:f,percentageValue:v,fixedAmountValue:_})&&(j(void 0),b(""),N(""),y("percentage"),p(!1))},q=async(e,t)=>{k.confirm({title:"Remove Provider Margin",icon:(0,a.jsx)(to.Z,{}),content:"Are you sure you want to remove the margin for ".concat(t,"?"),okText:"Remove",okType:"danger",cancelText:"Cancel",onOk:()=>M(e)})};return l?(0,a.jsxs)("div",{className:"w-full p-8",children:[S,(0,a.jsx)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eT.Z,{children:"Cost Tracking Settings"}),(0,a.jsx)(tm,{items:tp})]}),(0,a.jsx)(eA.Z,{className:"text-gray-500 mt-1",children:"Configure cost discounts and margins for different LLM providers. Changes are saved automatically."})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow w-full max-w-full space-y-4",children:[(0,a.jsxs)(eK.Z,{children:[(0,a.jsx)(eW.Z,{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex flex-col items-start w-full",children:[(0,a.jsx)(eA.Z,{className:"text-lg font-semibold text-gray-900",children:"Provider Discounts"}),(0,a.jsx)(eA.Z,{className:"text-sm text-gray-500 mt-1",children:"Apply percentage-based discounts to reduce costs for specific providers"})]})}),(0,a.jsx)(eG.Z,{className:"px-0",children:(0,a.jsxs)(ek.Z,{children:[(0,a.jsxs)(eS.Z,{className:"px-6 pt-4",children:[(0,a.jsx)(ew.Z,{children:"Discounts"}),(0,a.jsx)(ew.Z,{children:"Test It"})]}),(0,a.jsxs)(eP.Z,{children:[(0,a.jsx)(eC.Z,{children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("div",{className:"flex justify-end mb-4",children:(0,a.jsx)(eN.Z,{onClick:()=>x(!0),children:"+ Add Provider Discount"})}),c?(0,a.jsx)("div",{className:"py-12 text-center",children:(0,a.jsx)(eA.Z,{className:"text-gray-500",children:"Loading configuration..."})}):Object.keys(C).length>0?(0,a.jsx)(tt,{discountConfig:C,onDiscountChange:I,onRemoveProvider:R}):(0,a.jsxs)("div",{className:"py-16 px-6 text-center",children:[(0,a.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)(eA.Z,{className:"text-gray-700 font-medium mb-2",children:"No provider discounts configured"}),(0,a.jsx)(eA.Z,{className:"text-gray-500 text-sm",children:'Click "Add Provider Discount" to get started'})]})]})}),(0,a.jsx)(eC.Z,{children:(0,a.jsx)("div",{className:"px-6 pb-4",children:(0,a.jsx)(th,{})})})]})]})})]}),(0,a.jsxs)(eK.Z,{children:[(0,a.jsx)(eW.Z,{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex flex-col items-start w-full",children:[(0,a.jsx)(eA.Z,{className:"text-lg font-semibold text-gray-900",children:"Fee/Price Margin"}),(0,a.jsx)(eA.Z,{className:"text-sm text-gray-500 mt-1",children:"Add fees or margins to LLM costs for internal billing and cost recovery"})]})}),(0,a.jsx)(eG.Z,{className:"px-0",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("div",{className:"flex justify-end mb-4",children:(0,a.jsx)(eN.Z,{onClick:()=>p(!0),children:"+ Add Provider Margin"})}),c?(0,a.jsx)("div",{className:"py-12 text-center",children:(0,a.jsx)(eA.Z,{className:"text-gray-500",children:"Loading configuration..."})}):Object.keys(L).length>0?(0,a.jsx)(tr,{marginConfig:L,onMarginChange:F,onRemoveProvider:q}):(0,a.jsxs)("div",{className:"py-16 px-6 text-center",children:[(0,a.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)(eA.Z,{className:"text-gray-700 font-medium mb-2",children:"No provider margins configured"}),(0,a.jsx)(eA.Z,{className:"text-gray-500 text-sm",children:'Click "Add Provider Margin" to get started'})]})]})})]})]}),(0,a.jsx)(K.Z,{title:(0,a.jsx)("div",{className:"flex items-center space-x-3 pb-4 border-b border-gray-100",children:(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Provider Discount"})}),open:u,width:1e3,onCancel:()=>{x(!1),Z.resetFields(),i(void 0),d("")},footer:null,className:"top-8",styles:{body:{padding:"24px"},header:{padding:"24px 24px 0 24px",border:"none"}},children:(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)(eA.Z,{className:"text-sm text-gray-600 mb-6",children:"Select a provider and set its discount percentage. Enter a value between 0% and 100% (e.g., 5 for a 5% discount)."}),(0,a.jsx)(G.Z,{form:Z,onFinish:()=>{O()},layout:"vertical",className:"space-y-6",children:(0,a.jsx)(tl,{discountConfig:C,selectedProvider:r,newDiscount:o,onProviderChange:i,onDiscountChange:d,onAddProvider:O})})]})}),(0,a.jsx)(K.Z,{title:(0,a.jsx)("div",{className:"flex items-center space-x-3 pb-4 border-b border-gray-100",children:(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Provider Margin"})}),open:h,width:1e3,onCancel:()=>{p(!1),w.resetFields(),j(void 0),b(""),N(""),y("percentage")},footer:null,className:"top-8",styles:{body:{padding:"24px"},header:{padding:"24px 24px 0 24px",border:"none"}},children:(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)(eA.Z,{className:"text-sm text-gray-600 mb-6",children:'Select a provider (or "Global" for all providers) and configure the margin. You can use percentage-based or fixed amount.'}),(0,a.jsx)(G.Z,{form:w,layout:"vertical",className:"space-y-6",children:(0,a.jsx)(tn,{marginConfig:L,selectedProvider:g,marginType:f,percentageValue:v,fixedAmountValue:_,onProviderChange:j,onMarginTypeChange:y,onPercentageChange:b,onFixedAmountChange:N,onAddProvider:B})})]})})]}):null},tj=s(65695),tf=s(10137),ty=s(86537),tv=s(53862);function tb(e){let{sidebar:t,header:s,children:l}=e;return(0,a.jsxs)("div",{className:"flex h-screen bg-slate-50 overflow-hidden",children:[(0,a.jsx)("aside",{className:"w-64 h-full bg-white border-r border-slate-200 flex-shrink-0 z-20",children:t}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[s&&(0,a.jsx)("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center px-6 justify-between flex-shrink-0 z-10",children:s}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto p-6 scroll-smooth",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto h-full",children:l})})]})]})}var t_=s(49498),tN=s(3914),tZ=s(9245),tw=s(91624),tk=s(46346),tS=s(91870),tC=s(40428),tP=s(2074),tA=s(4683),tT=s(82405),tI=s(83410),tL=e=>{let{userID:t,userEmail:s,userRole:l,premiumUser:r,proxySettings:i,setProxySettings:n,accessToken:o,isPublicPage:d=!1,page:c}=e,[m,u]=(0,D.useState)(""),[x,h]=(0,D.useState)(!1),{data:p}=(0,t_.g)(),g=null==p?void 0:p.litellm_version;(0,D.useEffect)(()=>{(async()=>{if(o){let e=await (0,tw.C)(o);e&&n(e)}})()},[o]),(0,D.useEffect)(()=>{h("true"===(0,tZ.le)("disableShowNewBadge"))},[]),(0,D.useEffect)(()=>{u((null==i?void 0:i.PROXY_LOGOUT_URL)||"")},[i]);let f=[{key:"user-info",onClick:e=>{var t;return null===(t=e.domEvent)||void 0===t?void 0:t.stopPropagation()},label:(0,a.jsxs)("div",{className:"px-3 py-3 border-b border-slate-100",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(v.Z,{className:"mr-2 text-slate-500"}),(0,a.jsx)("span",{className:"text-sm font-semibold text-slate-900",children:t})]}),r?(0,a.jsx)(ef.Z,{title:"Premium User",placement:"left",children:(0,a.jsxs)("div",{className:"flex items-center bg-indigo-50 text-indigo-600 px-2 py-0.5 rounded-full cursor-help",children:[(0,a.jsx)(tk.Z,{className:"mr-1 text-xs"}),(0,a.jsx)("span",{className:"text-xs font-medium",children:"Pro"})]})}):(0,a.jsx)(ef.Z,{title:"Upgrade to Premium",placement:"left",children:(0,a.jsxs)("div",{className:"flex items-center bg-slate-100 text-slate-500 px-2 py-0.5 rounded-full cursor-help",children:[(0,a.jsx)(tk.Z,{className:"mr-1 text-xs"}),(0,a.jsx)("span",{className:"text-xs font-medium",children:"Free"})]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[(0,a.jsx)(j.Z,{className:"mr-2 text-slate-400 text-xs"}),(0,a.jsx)("span",{className:"text-slate-500 text-xs",children:"Role"}),(0,a.jsx)("span",{className:"ml-auto text-slate-700 font-medium",children:l})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[(0,a.jsx)(tS.Z,{className:"mr-2 text-slate-400 text-xs"}),(0,a.jsx)("span",{className:"text-slate-500 text-xs",children:"Email"}),(0,a.jsx)("span",{className:"ml-auto text-slate-700 font-medium truncate max-w-[150px]",title:s||"Unknown",children:s||"Unknown"})]})]})]})},{key:"logout",label:(0,a.jsxs)("div",{className:"flex items-center py-2 px-3 hover:bg-red-50 hover:text-red-600 rounded-md mx-1 my-1 transition-colors",onClick:()=>{(0,tN.b)(),window.location.href=m},children:[(0,a.jsx)(tC.Z,{className:"mr-3"}),(0,a.jsx)("span",{children:"Logout"})]})}];return(0,a.jsxs)("div",{className:"w-full h-full flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(tT.Z,{items:[{title:(0,a.jsx)("span",{className:"text-slate-400",children:"Dashboard"})},{title:(0,a.jsx)("span",{className:"text-slate-800 font-medium",children:c.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")})}]}),g&&(0,a.jsxs)("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold bg-slate-100 text-slate-500 border border-slate-200",children:["v",g]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)("a",{href:"https://docs.litellm.ai/docs/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-sm text-slate-500 hover:text-indigo-600 transition-colors gap-2",children:[(0,a.jsx)(tP.Z,{}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Documentation"})]}),(0,a.jsx)("a",{href:"https://github.com/BerriAI/litellm",target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-sm text-slate-500 hover:text-slate-900 transition-colors",children:(0,a.jsx)(tA.Z,{className:"text-lg"})}),!d&&(0,a.jsx)(tI.Z,{menu:{items:f,className:"min-w-[240px]",style:{padding:"4px",borderRadius:"12px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"}},trigger:["click"],placement:"bottomRight",children:(0,a.jsxs)("button",{className:"flex items-center gap-2 pl-2 pr-1 py-1 rounded-full hover:bg-slate-50 transition-colors border border-transparent hover:border-slate-200 focus:outline-none",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-500 flex items-center justify-center text-white font-medium text-xs shadow-sm",children:null==t?void 0:t.substring(0,2).toUpperCase()}),(0,a.jsxs)("div",{className:"hidden md:block text-left mr-1",children:[(0,a.jsx)("div",{className:"text-xs font-semibold text-slate-700 max-w-[100px] truncate leading-tight",children:t}),(0,a.jsx)("div",{className:"text-[10px] text-slate-500 leading-tight",children:l})]})]})})]})]})},tz=s(86377),tD=s(918),tE=s(87477),tM=s(88904),tF=s(23628),tO=s(47686),tR=s(41649),tB=s(49804),tq=s(67101),tU=s(27281),tV=s(57365),tH=s(57840),tK=s(59872),tG=s(82586),tW=s(72885),tY=s(2597),tJ=s(46468),t$=s(97492),tQ=s(68473),tX=s(24199),t0=s(97415),t1=s(21609),t2=s(39957);let t4=(e,t)=>{let s=[];return e&&e.models.length>0?(console.log("organization.models: ".concat(e.models)),s=e.models):s=t,(0,tJ.Ob)(s,t)},t5=(e,t,s)=>"Admin"===e||!!s&&!!t&&s.some(e=>{var s;return null===(s=e.members)||void 0===s?void 0:s.some(e=>e.user_id===t&&"org_admin"===e.user_role)}),t6=(e,t,s)=>"Admin"===e?s||[]:s&&t?s.filter(e=>{var s;return null===(s=e.members)||void 0===s?void 0:s.some(e=>e.user_id===t&&"org_admin"===e.user_role)}):[],t3=(e,t)=>{if(!e||!t)return e||"N/A";let s=t.find(t=>t.organization_id===e);return(null==s?void 0:s.organization_alias)||e};var t8=e=>{var t,s,l,r;let{teams:i,searchParams:o,accessToken:d,setTeams:m,userID:u,userRole:x,organizations:h,premiumUser:p=!1}=e;console.log("organizations: ".concat(JSON.stringify(h)));let{data:g}=c(),[j,f]=(0,D.useState)(""),[y,v]=(0,D.useState)(null),[b,_]=(0,D.useState)(null),[N,Z]=(0,D.useState)(!1),[w,k]=(0,D.useState)({team_id:"",team_alias:"",organization_id:"",sort_by:"created_at",sort_order:"desc"});(0,D.useEffect)(()=>{console.log("inside useeffect - ".concat(j)),d&&(0,eV.Z)(d,u,x,y,m),eO()},[j]);let[S]=G.Z.useForm(),[C]=G.Z.useForm(),{Title:P,Paragraph:A}=tH.default,[T,I]=(0,D.useState)(""),[L,z]=(0,D.useState)(!1),[M,F]=(0,D.useState)(null),[O,R]=(0,D.useState)(null),[B,q]=(0,D.useState)(!1),[U,V]=(0,D.useState)(!1),[H,W]=(0,D.useState)(!1),[$,ee]=(0,D.useState)(!1),[et,es]=(0,D.useState)([]),[ea,el]=(0,D.useState)(!1),[er,ei]=(0,D.useState)(null),[en,eo]=(0,D.useState)([]),[ed,ec]=(0,D.useState)({}),[em,eu]=(0,D.useState)(!1),[ex,eh]=(0,D.useState)([]),[ep,ej]=(0,D.useState)({}),[ey,ev]=(0,D.useState)([]),[eb,e_]=(0,D.useState)([]),[eT,eI]=(0,D.useState)(!1),[eL,ez]=(0,D.useState)({});(0,D.useEffect)(()=>{console.log("currentOrgForCreateTeam: ".concat(b));let e=t4(b,et);console.log("models: ".concat(e)),eo(e),S.setFieldValue("models",[])},[b,et]),(0,D.useEffect)(()=>{if(U){let e=t6(x,u,h);if(1===e.length){let t=e[0];S.setFieldValue("organization_id",t.organization_id),_(t)}else S.setFieldValue("organization_id",(null==y?void 0:y.organization_id)||null),_(y)}},[U,x,u,h,y]),(0,D.useEffect)(()=>{(async()=>{try{if(null==d)return;let e=(await (0,n.getGuardrailsList)(d)).guardrails.map(e=>e.guardrail_name);eh(e)}catch(e){console.error("Failed to fetch guardrails:",e)}})()},[d]);let eD=async()=>{try{if(null==d)return;let e=await (0,n.fetchMCPAccessGroups)(d);e_(e)}catch(e){console.error("Failed to fetch MCP access groups:",e)}};(0,D.useEffect)(()=>{eD()},[d]),(0,D.useEffect)(()=>{i&&ec(i.reduce((e,t)=>(e[t.team_id]={keys:t.keys||[],team_info:{members_with_roles:t.members_with_roles||[]}},e),{}))},[i]);let eE=async e=>{ei(e),el(!0)},eM=async()=>{if(null!=er&&null!=i&&null!=d)try{eu(!0),await (0,n.teamDeleteCall)(d,er.team_id),await (0,eV.Z)(d,u,x,y,m),eR.Z.success("Team deleted successfully")}catch(e){eR.Z.fromBackend("Error deleting the team: "+e)}finally{eu(!1),el(!1),ei(null)}};(0,D.useEffect)(()=>{(async()=>{try{if(null===u||null===x||null===d)return;let e=await (0,tJ.K2)(u,x,d);e&&es(e)}catch(e){console.error("Error fetching user models:",e)}})()},[d,u,x,i]);let eF=async e=>{try{if(console.log("formValues: ".concat(JSON.stringify(e))),null!=d){var t,s,a;let l=null==e?void 0:e.team_alias,r=null!==(a=null==i?void 0:i.map(e=>e.team_alias))&&void 0!==a?a:[],o=(null==e?void 0:e.organization_id)||(null==y?void 0:y.organization_id);if(""===o||"string"!=typeof o?e.organization_id=null:e.organization_id=o.trim(),r.includes(l))throw Error("Team alias ".concat(l," already exists, please pick another alias"));if(eR.Z.info("Creating Team"),ey.length>0){let t={};if(e.metadata)try{t=JSON.parse(e.metadata)}catch(e){console.warn("Invalid JSON in metadata field, starting with empty object")}t={...t,logging:ey.filter(e=>e.callback_name)},e.metadata=JSON.stringify(t)}if(e.secret_manager_settings&&"string"==typeof e.secret_manager_settings){if(""===e.secret_manager_settings.trim())delete e.secret_manager_settings;else try{e.secret_manager_settings=JSON.parse(e.secret_manager_settings)}catch(e){throw Error("Failed to parse secret manager settings: "+e)}}if(e.allowed_vector_store_ids&&e.allowed_vector_store_ids.length>0||e.allowed_mcp_servers_and_groups&&((null===(t=e.allowed_mcp_servers_and_groups.servers)||void 0===t?void 0:t.length)>0||(null===(s=e.allowed_mcp_servers_and_groups.accessGroups)||void 0===s?void 0:s.length)>0||e.allowed_mcp_servers_and_groups.toolPermissions)){if(e.object_permission={},e.allowed_vector_store_ids&&e.allowed_vector_store_ids.length>0&&(e.object_permission.vector_stores=e.allowed_vector_store_ids,delete e.allowed_vector_store_ids),e.allowed_mcp_servers_and_groups){let{servers:t,accessGroups:s}=e.allowed_mcp_servers_and_groups;t&&t.length>0&&(e.object_permission.mcp_servers=t),s&&s.length>0&&(e.object_permission.mcp_access_groups=s),delete e.allowed_mcp_servers_and_groups}e.mcp_tool_permissions&&Object.keys(e.mcp_tool_permissions).length>0&&(e.object_permission||(e.object_permission={}),e.object_permission.mcp_tool_permissions=e.mcp_tool_permissions,delete e.mcp_tool_permissions)}if(e.allowed_mcp_access_groups&&e.allowed_mcp_access_groups.length>0&&(e.object_permission||(e.object_permission={}),e.object_permission.mcp_access_groups=e.allowed_mcp_access_groups,delete e.allowed_mcp_access_groups),e.allowed_agents_and_groups){let{agents:t,accessGroups:s}=e.allowed_agents_and_groups;e.object_permission||(e.object_permission={}),t&&t.length>0&&(e.object_permission.agents=t),s&&s.length>0&&(e.object_permission.agent_access_groups=s),delete e.allowed_agents_and_groups}Object.keys(eL).length>0&&(e.model_aliases=eL);let c=await (0,n.teamCreateCall)(d,e);null!==i?m([...i,c]):m([c]),console.log("response for team create call: ".concat(c)),eR.Z.success("Team created"),S.resetFields(),ev([]),ez({}),V(!1)}}catch(e){console.error("Error creating the team:",e),eR.Z.fromBackend("Error creating the team: "+e)}},eO=()=>{f(new Date().toLocaleString())},eB=(e,t)=>{let s={...w,[e]:t};k(s),d&&(0,n.v2TeamListCall)(d,s.organization_id||null,null,s.team_id||null,s.team_alias||null).then(e=>{e&&e.teams&&m(e.teams)}).catch(e=>{console.error("Error fetching teams:",e)})};return(0,a.jsx)("div",{className:"w-full mx-4 h-[75vh]",children:(0,a.jsx)(tq.Z,{numItems:1,className:"gap-2 p-8 w-full mt-2",children:(0,a.jsxs)(tB.Z,{numColSpan:1,className:"flex flex-col gap-2",children:[t5(x,u,h)&&(0,a.jsx)(eN.Z,{className:"w-fit",onClick:()=>V(!0),children:"+ Create New Team"}),O?(0,a.jsx)(tE.Z,{teamId:O,onUpdate:e=>{m(t=>{if(null==t)return t;let s=t.map(t=>e.team_id===t.team_id?(0,tK.nl)(t,e):t);return d&&(0,eV.Z)(d,u,x,y,m),s})},onClose:()=>{R(null),q(!1)},accessToken:d,is_team_admin:(e=>{if(null==e||null==e.members_with_roles)return!1;for(let t=0;t<e.members_with_roles.length;t++){let s=e.members_with_roles[t];if(s.user_id==u&&"admin"==s.role)return!0}return!1})(null==i?void 0:i.find(e=>e.team_id===O)),is_proxy_admin:"Admin"==x,userModels:et,editTeam:B,premiumUser:p}):(0,a.jsxs)(ek.Z,{className:"gap-2 h-[75vh] w-full",children:[(0,a.jsxs)(eS.Z,{className:"flex justify-between mt-2 w-full items-center",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(ew.Z,{children:"Your Teams"}),(0,a.jsx)(ew.Z,{children:"Available Teams"}),(0,E.P4)(x||"")&&(0,a.jsx)(ew.Z,{children:"Default Team Settings"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[j&&(0,a.jsxs)(eA.Z,{children:["Last Refreshed: ",j]}),(0,a.jsx)(eY.Z,{icon:tF.Z,variant:"shadow",size:"xs",className:"self-center",onClick:eO})]})]}),(0,a.jsxs)(eP.Z,{children:[(0,a.jsxs)(eC.Z,{children:[(0,a.jsxs)(eA.Z,{children:["Click on Team ID to view team details ",(0,a.jsx)("b",{children:"and"})," manage team members."]}),(0,a.jsx)(tq.Z,{numItems:1,className:"gap-2 pt-2 pb-2 h-[75vh] w-full mt-2",children:(0,a.jsx)(tB.Z,{numColSpan:1,children:(0,a.jsxs)(eZ.Z,{className:"w-full mx-auto flex-auto overflow-hidden overflow-y-auto max-h-[50vh]",children:[(0,a.jsx)("div",{className:"border-b px-6 py-4",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,a.jsxs)("div",{className:"relative w-64",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search by Team Name...",className:"w-full px-3 py-2 pl-8 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:w.team_alias,onChange:e=>eB("team_alias",e.target.value)}),(0,a.jsx)("svg",{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,a.jsxs)("button",{className:"px-3 py-2 text-sm border rounded-md hover:bg-gray-50 flex items-center gap-2 ".concat(N?"bg-gray-100":""),onClick:()=>Z(!N),children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filters",(w.team_id||w.team_alias||w.organization_id)&&(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-500"})]}),(0,a.jsxs)("button",{className:"px-3 py-2 text-sm border rounded-md hover:bg-gray-50 flex items-center gap-2",onClick:()=>{k({team_id:"",team_alias:"",organization_id:"",sort_by:"created_at",sort_order:"desc"}),d&&(0,n.v2TeamListCall)(d,null,u||null,null,null).then(e=>{e&&e.teams&&m(e.teams)}).catch(e=>{console.error("Error fetching teams:",e)})},children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reset Filters"]})]}),N&&(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mt-3",children:[(0,a.jsxs)("div",{className:"relative w-64",children:[(0,a.jsx)("input",{type:"text",placeholder:"Enter Team ID",className:"w-full px-3 py-2 pl-8 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:w.team_id,onChange:e=>eB("team_id",e.target.value)}),(0,a.jsx)("svg",{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),(0,a.jsx)("div",{className:"w-64",children:(0,a.jsx)(tU.Z,{value:w.organization_id||"",onValueChange:e=>eB("organization_id",e),placeholder:"Select Organization",children:null==h?void 0:h.map(e=>(0,a.jsx)(tV.Z,{value:e.organization_id||"",children:e.organization_alias||e.organization_id},e.organization_id))})})]})]})}),(0,a.jsxs)(e0.Z,{children:[(0,a.jsx)(e4.Z,{children:(0,a.jsxs)(e6.Z,{children:[(0,a.jsx)(e5.Z,{children:"Team Name"}),(0,a.jsx)(e5.Z,{children:"Team ID"}),(0,a.jsx)(e5.Z,{children:"Created"}),(0,a.jsx)(e5.Z,{children:"Spend (USD)"}),(0,a.jsx)(e5.Z,{children:"Budget (USD)"}),(0,a.jsx)(e5.Z,{children:"Models"}),(0,a.jsx)(e5.Z,{children:"Organization"}),(0,a.jsx)(e5.Z,{children:"Info"}),(0,a.jsx)(e5.Z,{children:"Actions"})]})}),(0,a.jsx)(e1.Z,{children:i&&i.length>0?i.filter(e=>!y||e.organization_id===y.organization_id).sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()).map(e=>(0,a.jsxs)(e6.Z,{children:[(0,a.jsx)(e2.Z,{style:{maxWidth:"4px",whiteSpace:"pre-wrap",overflow:"hidden"},children:e.team_alias}),(0,a.jsx)(e2.Z,{children:(0,a.jsx)("div",{className:"overflow-hidden",children:(0,a.jsx)(ef.Z,{title:e.team_id,children:(0,a.jsxs)(eN.Z,{size:"xs",variant:"light",className:"font-mono text-blue-500 bg-blue-50 hover:bg-blue-100 text-xs font-normal px-2 py-0.5 text-left overflow-hidden truncate max-w-[200px]",onClick:()=>{R(e.team_id)},children:[e.team_id.slice(0,7),"..."]})})})}),(0,a.jsx)(e2.Z,{style:{maxWidth:"4px",whiteSpace:"pre-wrap",overflow:"hidden"},children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"}),(0,a.jsx)(e2.Z,{style:{maxWidth:"4px",whiteSpace:"pre-wrap",overflow:"hidden"},children:(0,tK.pw)(e.spend,4)}),(0,a.jsx)(e2.Z,{style:{maxWidth:"4px",whiteSpace:"pre-wrap",overflow:"hidden"},children:null!==e.max_budget&&void 0!==e.max_budget?e.max_budget:"No limit"}),(0,a.jsx)(e2.Z,{style:{maxWidth:"8-x",whiteSpace:"pre-wrap",overflow:"hidden"},className:e.models.length>3?"px-0":"",children:(0,a.jsx)("div",{className:"flex flex-col",children:Array.isArray(e.models)?(0,a.jsx)("div",{className:"flex flex-col",children:0===e.models.length?(0,a.jsx)(tR.Z,{size:"xs",className:"mb-1",color:"red",children:(0,a.jsx)(eA.Z,{children:"All Proxy Models"})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex items-start",children:[e.models.length>3&&(0,a.jsx)("div",{children:(0,a.jsx)(eY.Z,{icon:ep[e.team_id]?eg.Z:tO.Z,className:"cursor-pointer",size:"xs",onClick:()=>{ej(t=>({...t,[e.team_id]:!t[e.team_id]}))}})}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.models.slice(0,3).map((e,t)=>"all-proxy-models"===e?(0,a.jsx)(tR.Z,{size:"xs",color:"red",children:(0,a.jsx)(eA.Z,{children:"All Proxy Models"})},t):(0,a.jsx)(tR.Z,{size:"xs",color:"blue",children:(0,a.jsx)(eA.Z,{children:e.length>30?"".concat((0,tJ.W0)(e).slice(0,30),"..."):(0,tJ.W0)(e)})},t)),e.models.length>3&&!ep[e.team_id]&&(0,a.jsx)(tR.Z,{size:"xs",color:"gray",className:"cursor-pointer",children:(0,a.jsxs)(eA.Z,{children:["+",e.models.length-3," ",e.models.length-3==1?"more model":"more models"]})}),ep[e.team_id]&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.models.slice(3).map((e,t)=>"all-proxy-models"===e?(0,a.jsx)(tR.Z,{size:"xs",color:"red",children:(0,a.jsx)(eA.Z,{children:"All Proxy Models"})},t+3):(0,a.jsx)(tR.Z,{size:"xs",color:"blue",children:(0,a.jsx)(eA.Z,{children:e.length>30?"".concat((0,tJ.W0)(e).slice(0,30),"..."):(0,tJ.W0)(e)})},t+3))})]})]})})}):null})}),(0,a.jsx)(e2.Z,{children:t3(e.organization_id,g||h)}),(0,a.jsxs)(e2.Z,{children:[(0,a.jsxs)(eA.Z,{children:[ed&&e.team_id&&ed[e.team_id]&&ed[e.team_id].keys&&ed[e.team_id].keys.length," ","Keys"]}),(0,a.jsxs)(eA.Z,{children:[ed&&e.team_id&&ed[e.team_id]&&ed[e.team_id].team_info&&ed[e.team_id].team_info.members_with_roles&&ed[e.team_id].team_info.members_with_roles.length," ","Members"]})]}),(0,a.jsx)(e2.Z,{children:"Admin"==x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t2.Z,{variant:"Edit",onClick:()=>{R(e.team_id),q(!0)},dataTestId:"edit-team-button",tooltipText:"Edit team"}),(0,a.jsx)(t2.Z,{variant:"Delete",onClick:()=>eE(e),dataTestId:"delete-team-button",tooltipText:"Delete team"})]}):null})]},e.team_id)):(0,a.jsx)(e6.Z,{children:(0,a.jsx)(e2.Z,{colSpan:9,className:"text-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-4",children:[(0,a.jsx)(eA.Z,{className:"text-lg font-medium mb-2",children:"No teams found"}),(0,a.jsx)(eA.Z,{className:"text-sm",children:"Adjust your filters or create a new team"})]})})})})]}),(0,a.jsx)(t1.Z,{isOpen:ea,title:"Delete Team?",alertMessage:(null==er?void 0:null===(t=er.keys)||void 0===t?void 0:t.length)===0?void 0:"Warning: This team has ".concat(null==er?void 0:null===(s=er.keys)||void 0===s?void 0:s.length," keys associated with it. Deleting the team will also delete all associated keys. This action is irreversible."),message:"Are you sure you want to delete this team and all its keys? This action cannot be undone.",resourceInformationTitle:"Team Information",resourceInformation:[{label:"Team ID",value:null==er?void 0:er.team_id,code:!0},{label:"Team Name",value:null==er?void 0:er.team_alias},{label:"Keys",value:null==er?void 0:null===(l=er.keys)||void 0===l?void 0:l.length},{label:"Members",value:null==er?void 0:null===(r=er.members_with_roles)||void 0===r?void 0:r.length}],requiredConfirmation:null==er?void 0:er.team_alias,onCancel:()=>{el(!1),ei(null)},onOk:eM,confirmLoading:em})]})})})]}),(0,a.jsx)(eC.Z,{children:(0,a.jsx)(tD.Z,{accessToken:d,userID:u})}),(0,E.P4)(x||"")&&(0,a.jsx)(eC.Z,{children:(0,a.jsx)(tM.Z,{accessToken:d,userID:u||"",userRole:x||""})})]})]}),t5(x,u,h)&&(0,a.jsx)(K.Z,{title:"Create Team",visible:U,width:1e3,footer:null,onOk:()=>{V(!1),S.resetFields(),ev([]),ez({})},onCancel:()=>{V(!1),S.resetFields(),ev([]),ez({})},children:(0,a.jsxs)(G.Z,{form:S,onFinish:eF,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:[(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(G.Z.Item,{label:"Team Name",name:"team_alias",rules:[{required:!0,message:"Please input a team name"}],children:(0,a.jsx)(eJ.Z,{placeholder:""})}),(()=>{let e=t6(x,u,h),t="Admin"!==x,s=1===e.length,l=0===e.length;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(G.Z.Item,{label:(0,a.jsxs)("span",{children:["Organization"," ",(0,a.jsx)(ef.Z,{title:(0,a.jsxs)("span",{children:["Organizations can have multiple teams. Learn more about"," ",(0,a.jsx)("a",{href:"https://docs.litellm.ai/docs/proxy/user_management_heirarchy",target:"_blank",rel:"noopener noreferrer",style:{color:"#1890ff",textDecoration:"underline"},onClick:e=>e.stopPropagation(),children:"user management hierarchy"})]}),children:(0,a.jsx)(ta.Z,{style:{marginLeft:"4px"}})})]}),name:"organization_id",initialValue:y?y.organization_id:null,className:"mt-8",rules:t?[{required:!0,message:"Please select an organization"}]:[],help:s?"You can only create teams within this organization":t?"required":"",children:(0,a.jsx)(Y.default,{showSearch:!0,allowClear:!t,disabled:s,placeholder:l?"No organizations available":"Search or select an Organization",onChange:t=>{S.setFieldValue("organization_id",t),_((null==e?void 0:e.find(e=>e.organization_id===t))||null)},filterOption:(e,t)=>{var s;return!!t&&((null===(s=t.children)||void 0===s?void 0:s.toString())||"").toLowerCase().includes(e.toLowerCase())},optionFilterProp:"children",children:null==e?void 0:e.map(e=>(0,a.jsxs)(Y.default.Option,{value:e.organization_id,children:[(0,a.jsx)("span",{className:"font-medium",children:e.organization_alias})," ",(0,a.jsxs)("span",{className:"text-gray-500",children:["(",e.organization_id,")"]})]},e.organization_id))})}),t&&!s&&e.length>1&&(0,a.jsx)("div",{className:"mb-8 p-4 bg-blue-50 border border-blue-200 rounded-md",children:(0,a.jsx)(eA.Z,{className:"text-blue-800 text-sm",children:"Please select an organization to create a team for. You can only create teams within organizations where you are an admin."})})]})})(),(0,a.jsx)(G.Z.Item,{label:(0,a.jsxs)("span",{children:["Models"," ",(0,a.jsx)(ef.Z,{title:"These are the models that your selected team has access to",children:(0,a.jsx)(ta.Z,{style:{marginLeft:"4px"}})})]}),rules:[{required:!0,message:"Please select at least one model"}],name:"models",children:(0,a.jsxs)(Y.default,{mode:"multiple",placeholder:"Select models",style:{width:"100%"},children:[(0,a.jsx)(Y.default.Option,{value:"no-default-models",children:"No Default Models"},"no-default-models"),en.map(e=>(0,a.jsx)(Y.default.Option,{value:e,children:(0,tJ.W0)(e)},e))]})}),(0,a.jsx)(G.Z.Item,{label:"Max Budget (USD)",name:"max_budget",children:(0,a.jsx)(tX.Z,{step:.01,precision:2,width:200})}),(0,a.jsx)(G.Z.Item,{className:"mt-8",label:"Reset Budget",name:"budget_duration",children:(0,a.jsxs)(Y.default,{defaultValue:null,placeholder:"n/a",children:[(0,a.jsx)(Y.default.Option,{value:"24h",children:"daily"}),(0,a.jsx)(Y.default.Option,{value:"7d",children:"weekly"}),(0,a.jsx)(Y.default.Option,{value:"30d",children:"monthly"})]})}),(0,a.jsx)(G.Z.Item,{label:"Tokens per minute Limit (TPM)",name:"tpm_limit",children:(0,a.jsx)(tX.Z,{step:1,width:400})}),(0,a.jsx)(G.Z.Item,{label:"Requests per minute Limit (RPM)",name:"rpm_limit",children:(0,a.jsx)(tX.Z,{step:1,width:400})}),(0,a.jsxs)(eK.Z,{className:"mt-20 mb-8",onClick:()=>{eT||(eD(),eI(!0))},children:[(0,a.jsx)(eW.Z,{children:(0,a.jsx)("b",{children:"Additional Settings"})}),(0,a.jsxs)(eG.Z,{children:[(0,a.jsx)(G.Z.Item,{label:"Team ID",name:"team_id",help:"ID of the team you want to create. If not provided, it will be generated automatically.",children:(0,a.jsx)(eJ.Z,{onChange:e=>{e.target.value=e.target.value.trim()}})}),(0,a.jsx)(G.Z.Item,{label:"Team Member Budget (USD)",name:"team_member_budget",normalize:e=>e?Number(e):void 0,tooltip:"This is the individual budget for a user in the team.",children:(0,a.jsx)(tX.Z,{step:.01,precision:2,width:200})}),(0,a.jsx)(G.Z.Item,{label:"Team Member Key Duration (eg: 1d, 1mo)",name:"team_member_key_duration",tooltip:"Set a limit to the duration of a team member's key. Format: 30s (seconds), 30m (minutes), 30h (hours), 30d (days), 1mo (month)",children:(0,a.jsx)(eJ.Z,{placeholder:"e.g., 30d"})}),(0,a.jsx)(G.Z.Item,{label:"Team Member RPM Limit",name:"team_member_rpm_limit",tooltip:"The RPM (Requests Per Minute) limit for individual team members",children:(0,a.jsx)(tX.Z,{step:1,width:400})}),(0,a.jsx)(G.Z.Item,{label:"Team Member TPM Limit",name:"team_member_tpm_limit",tooltip:"The TPM (Tokens Per Minute) limit for individual team members",children:(0,a.jsx)(tX.Z,{step:1,width:400})}),(0,a.jsx)(G.Z.Item,{label:"Metadata",name:"metadata",help:"Additional team metadata. Enter metadata as JSON object.",children:(0,a.jsx)(J.default.TextArea,{rows:4})}),(0,a.jsx)(G.Z.Item,{label:"Secret Manager Settings",name:"secret_manager_settings",help:p?"Enter secret manager configuration as a JSON object.":"Premium feature - Upgrade to manage secret manager settings.",rules:[{validator:async(e,t)=>{if(!t)return Promise.resolve();try{return JSON.parse(t),Promise.resolve()}catch(e){return Promise.reject(Error("Please enter valid JSON"))}}}],children:(0,a.jsx)(J.default.TextArea,{rows:4,placeholder:'{"namespace": "admin", "mount": "secret", "path_prefix": "litellm"}',disabled:!p})}),(0,a.jsx)(G.Z.Item,{label:(0,a.jsxs)("span",{children:["Guardrails"," ",(0,a.jsx)(ef.Z,{title:"Setup your first guardrail",children:(0,a.jsx)("a",{href:"https://docs.litellm.ai/docs/proxy/guardrails/quick_start",target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),children:(0,a.jsx)(ta.Z,{style:{marginLeft:"4px"}})})})]}),name:"guardrails",className:"mt-8",help:"Select existing guardrails or enter new ones",children:(0,a.jsx)(Y.default,{mode:"tags",style:{width:"100%"},placeholder:"Select or enter guardrails",options:ex.map(e=>({value:e,label:e}))})}),(0,a.jsx)(G.Z.Item,{label:(0,a.jsxs)("span",{children:["Disable Global Guardrails"," ",(0,a.jsx)(ef.Z,{title:"When enabled, this team will bypass any guardrails configured to run on every request (global guardrails)",children:(0,a.jsx)(ta.Z,{style:{marginLeft:"4px"}})})]}),name:"disable_global_guardrails",className:"mt-4",valuePropName:"checked",help:"Bypass global guardrails for this team",children:(0,a.jsx)(Q.Z,{disabled:!p,checkedChildren:p?"Yes":"Premium feature - Upgrade to disable global guardrails by team",unCheckedChildren:p?"No":"Premium feature - Upgrade to disable global guardrails by team"})}),(0,a.jsx)(G.Z.Item,{label:(0,a.jsxs)("span",{children:["Allowed Vector Stores"," ",(0,a.jsx)(ef.Z,{title:"Select which vector stores this team can access by default. Leave empty for access to all vector stores",children:(0,a.jsx)(ta.Z,{style:{marginLeft:"4px"}})})]}),name:"allowed_vector_store_ids",className:"mt-8",help:"Select vector stores this team can access. Leave empty for access to all vector stores",children:(0,a.jsx)(t0.Z,{onChange:e=>S.setFieldValue("allowed_vector_store_ids",e),value:S.getFieldValue("allowed_vector_store_ids"),accessToken:d||"",placeholder:"Select vector stores (optional)"})})]})]}),(0,a.jsxs)(eK.Z,{className:"mt-8 mb-8",children:[(0,a.jsx)(eW.Z,{children:(0,a.jsx)("b",{children:"MCP Settings"})}),(0,a.jsxs)(eG.Z,{children:[(0,a.jsx)(G.Z.Item,{label:(0,a.jsxs)("span",{children:["Allowed MCP Servers"," ",(0,a.jsx)(ef.Z,{title:"Select which MCP servers or access groups this team can access",children:(0,a.jsx)(ta.Z,{style:{marginLeft:"4px"}})})]}),name:"allowed_mcp_servers_and_groups",className:"mt-4",help:"Select MCP servers or access groups this team can access",children:(0,a.jsx)(t$.Z,{onChange:e=>S.setFieldValue("allowed_mcp_servers_and_groups",e),value:S.getFieldValue("allowed_mcp_servers_and_groups"),accessToken:d||"",placeholder:"Select MCP servers or access groups (optional)"})}),(0,a.jsx)(G.Z.Item,{name:"mcp_tool_permissions",initialValue:{},hidden:!0,children:(0,a.jsx)(J.default,{type:"hidden"})}),(0,a.jsx)(G.Z.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.allowed_mcp_servers_and_groups!==t.allowed_mcp_servers_and_groups||e.mcp_tool_permissions!==t.mcp_tool_permissions,children:()=>{var e;return(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)(tQ.Z,{accessToken:d||"",selectedServers:(null===(e=S.getFieldValue("allowed_mcp_servers_and_groups"))||void 0===e?void 0:e.servers)||[],toolPermissions:S.getFieldValue("mcp_tool_permissions")||{},onChange:e=>S.setFieldsValue({mcp_tool_permissions:e})})})}})]})]}),(0,a.jsxs)(eK.Z,{className:"mt-8 mb-8",children:[(0,a.jsx)(eW.Z,{children:(0,a.jsx)("b",{children:"Agent Settings"})}),(0,a.jsx)(eG.Z,{children:(0,a.jsx)(G.Z.Item,{label:(0,a.jsxs)("span",{children:["Allowed Agents"," ",(0,a.jsx)(ef.Z,{title:"Select which agents or access groups this team can access",children:(0,a.jsx)(ta.Z,{style:{marginLeft:"4px"}})})]}),name:"allowed_agents_and_groups",className:"mt-4",help:"Select agents or access groups this team can access",children:(0,a.jsx)(tG.Z,{onChange:e=>S.setFieldValue("allowed_agents_and_groups",e),value:S.getFieldValue("allowed_agents_and_groups"),accessToken:d||"",placeholder:"Select agents or access groups (optional)"})})})]}),(0,a.jsxs)(eK.Z,{className:"mt-8 mb-8",children:[(0,a.jsx)(eW.Z,{children:(0,a.jsx)("b",{children:"Logging Settings"})}),(0,a.jsx)(eG.Z,{children:(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(tY.Z,{value:ey,onChange:ev,premiumUser:p})})})]}),(0,a.jsxs)(eK.Z,{className:"mt-8 mb-8",children:[(0,a.jsx)(eW.Z,{children:(0,a.jsx)("b",{children:"Model Aliases"})}),(0,a.jsx)(eG.Z,{children:(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)(eA.Z,{className:"text-sm text-gray-600 mb-4",children:"Create custom aliases for models that can be used by team members in API calls. This allows you to create shortcuts for specific models."}),(0,a.jsx)(tW.Z,{accessToken:d||"",initialModelAliases:eL,onAliasUpdate:ez,showExampleConfig:!1})]})})]})]}),(0,a.jsx)("div",{style:{textAlign:"right",marginTop:"10px"},children:(0,a.jsx)(X.ZP,{htmlType:"submit",children:"Create Team"})})]})})]})})})},t9=s(19640),t7=s(22004),se=s(27593),st=s(56399),ss=s(87526),sa=s(12322),sl=s(58927);let sr=(e,t,s,l)=>[{accessorKey:"search_tool_id",header:"Search Tool ID",cell:t=>{var s;let{row:l}=t;return(0,a.jsxs)("button",{onClick:()=>e(l.original.search_tool_id),className:"font-mono text-blue-500 bg-blue-50 hover:bg-blue-100 text-xs font-normal px-2 py-0.5 text-left w-full truncate whitespace-nowrap cursor-pointer max-w-[15ch]",children:[null===(s=l.original.search_tool_id)||void 0===s?void 0:s.slice(0,7),"..."]})}},{accessorKey:"search_tool_name",header:"Name",cell:e=>{let{getValue:t}=e;return(0,a.jsx)("span",{className:"font-medium",children:t()})}},{id:"provider",header:"Provider",cell:e=>{let{row:t}=e,s=t.original.litellm_params.search_provider,r=l.find(e=>e.provider_name===s),i=(null==r?void 0:r.ui_friendly_name)||s;return(0,a.jsx)("span",{className:"text-sm",children:i})}},{header:"Created At",accessorKey:"created_at",sortingFn:"datetime",cell:e=>{let{row:t}=e,s=t.original;return(0,a.jsx)("span",{className:"text-xs",children:s.created_at?new Date(s.created_at).toLocaleDateString():"-"})}},{header:"Updated At",accessorKey:"updated_at",sortingFn:"datetime",cell:e=>{let{row:t}=e,s=t.original;return(0,a.jsx)("span",{className:"text-xs",children:s.updated_at?new Date(s.updated_at).toLocaleDateString():"-"})}},{id:"actions",header:"Actions",cell:e=>{let{row:l}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(sl.J,{icon:eX.Z,size:"sm",onClick:()=>t(l.original.search_tool_id),className:"cursor-pointer"}),(0,a.jsx)(sl.J,{icon:eh.Z,size:"sm",onClick:()=>s(l.original.search_tool_id),className:"cursor-pointer"})]})}}];var si=s(30401),sn=s(78867),so=s(61935);let{Text:sd}=tH.default,sc=e=>{var t,s,l,r;let{searchToolName:i,accessToken:o,className:d=""}=e,[c,m]=(0,D.useState)(""),[u,x]=(0,D.useState)(!1),[h,p]=(0,D.useState)([]),[g,j]=(0,D.useState)({}),[f,y]=(0,D.useState)(!1),v=async()=>{if(!c.trim()){W.ZP.warning("Please enter a search query");return}x(!0);let e=performance.now();try{let t=await (0,n.searchToolQueryCall)(o,i,c),s=performance.now(),a={query:c,response:t,timestamp:Date.now(),latency:Math.round(s-e)};p(e=>[a,...e])}catch(e){console.error("Error querying search tool:",e),eR.Z.fromBackend("Failed to query search tool")}finally{x(!1)}},b=e=>new Date(e).toLocaleString(),_=(e,t)=>{let s="".concat(e,"-").concat(t);j(e=>({...e,[s]:!e[s]}))},N=(0,a.jsx)(so.Z,{style:{fontSize:24},spin:!0}),Z=h.length>0?h[0]:null;return(0,a.jsxs)(eZ.Z,{className:"mt-6",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(eT.Z,{children:"Test Search Tool"})}),(0,a.jsxs)("div",{className:"flex flex-col",style:{minHeight:"600px"},children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"flex items-stretch gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center flex-1 bg-white rounded-lg px-4 transition-all duration-200",style:{border:f?"2px solid #3b82f6":"2px solid #e5e7eb",boxShadow:f?"0 0 0 3px rgba(59, 130, 246, 0.1)":"0 1px 2px 0 rgba(0, 0, 0, 0.05)",height:"48px"},children:[(0,a.jsx)(k.Z,{className:"text-gray-400 mr-3",style:{fontSize:"18px"}}),(0,a.jsx)(J.default,{value:c,onChange:e=>m(e.target.value),onFocus:()=>y(!0),onBlur:()=>y(!1),onPressEnter:e=>{e.shiftKey||(e.preventDefault(),v())},placeholder:"Enter your search query...",disabled:u,bordered:!1,style:{fontSize:"15px",padding:0,height:"100%",boxShadow:"none"}})]}),(0,a.jsx)(X.ZP,{type:"primary",onClick:v,disabled:u||!c.trim(),icon:(0,a.jsx)(k.Z,{}),loading:u,style:{height:"48px",paddingLeft:"24px",paddingRight:"24px",borderRadius:"8px",fontWeight:500,fontSize:"15px",backgroundColor:u||!c.trim()?void 0:"#1890ff",borderColor:u||!c.trim()?void 0:"#1890ff",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"},children:"Search"})]})}),(0,a.jsx)("div",{className:"flex-1",children:Z||u?(0,a.jsxs)("div",{children:[u&&(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center py-16",children:[(0,a.jsx)(eI.Z,{indicator:N}),(0,a.jsx)(sd,{className:"mt-4 text-gray-600 font-medium",children:"Searching..."})]}),Z&&!u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",style:{boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"},children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(sd,{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Search Query"}),(0,a.jsx)("div",{className:"text-base font-semibold text-gray-900 mt-1.5",children:Z.query})]}),(0,a.jsxs)("div",{className:"text-right ml-4",children:[(0,a.jsx)(sd,{className:"text-xs text-gray-500",children:b(Z.timestamp)}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,a.jsxs)("div",{className:"text-sm font-semibold text-blue-600",children:[(null===(s=Z.response)||void 0===s?void 0:null===(t=s.results)||void 0===t?void 0:t.length)||0," ",(null===(r=Z.response)||void 0===r?void 0:null===(l=r.results)||void 0===l?void 0:l.length)===1?"result":"results"]}),void 0!==Z.latency&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-gray-400",children:""}),(0,a.jsxs)("div",{className:"text-sm font-semibold text-green-600",children:[Z.latency,"ms"]})]})]})]})]})}),Z.response&&Z.response.results&&Z.response.results.length>0?(0,a.jsx)("div",{className:"space-y-3",children:Z.response.results.map((e,t)=>{let s=g["0-".concat(t)]||!1;return(0,a.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden transition-all duration-200",style:{boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"},onMouseEnter:e=>{e.currentTarget.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",e.currentTarget.style.borderColor="#e0e7ff"},onMouseLeave:e=>{e.currentTarget.style.boxShadow="0 1px 2px 0 rgba(0, 0, 0, 0.05)",e.currentTarget.style.borderColor="#e5e7eb"},children:(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-2",children:[(0,a.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-lg font-semibold text-blue-600 hover:text-blue-700 flex-1 leading-snug",style:{textDecoration:"none"},onMouseEnter:e=>e.currentTarget.style.textDecoration="underline",onMouseLeave:e=>e.currentTarget.style.textDecoration="none",children:e.title}),(0,a.jsx)(X.ZP,{type:"text",size:"small",className:"flex-shrink-0",icon:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),onClick:()=>window.open(e.url,"_blank"),style:{color:"#6b7280"}})]}),(0,a.jsx)("div",{className:"text-sm text-green-700 mb-3 truncate font-medium",children:e.url}),(0,a.jsx)("div",{className:"text-sm text-gray-700 leading-relaxed",children:s?e.snippet:"".concat(e.snippet.substring(0,200)).concat(e.snippet.length>200?"...":"")}),e.snippet.length>200&&(0,a.jsx)(X.ZP,{type:"link",size:"small",className:"mt-3 p-0 h-auto",onClick:()=>_(0,t),style:{fontSize:"13px",fontWeight:500,color:"#3b82f6"},children:s?"Show less":"Show more"})]})},t)})}):(0,a.jsxs)("div",{className:"text-center py-12 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mx-auto mb-4",children:(0,a.jsx)(k.Z,{style:{fontSize:"24px",color:"#9ca3af"}})}),(0,a.jsx)(sd,{className:"text-gray-600 font-medium",children:"No results found"}),(0,a.jsx)(sd,{className:"text-sm text-gray-500 mt-1",children:"Try a different search query"})]})]}),h.length>1&&(0,a.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)(sd,{className:"text-sm font-semibold text-gray-700",children:"Previous Searches"}),(0,a.jsx)(X.ZP,{onClick:()=>{p([]),j({}),eR.Z.success("Search history cleared")},size:"small",type:"link",style:{fontSize:"13px",fontWeight:500},children:"Clear All"})]}),(0,a.jsx)("div",{className:"space-y-2",children:h.slice(1,6).map((e,t)=>{var s,l,r,i;return(0,a.jsxs)("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg cursor-pointer transition-all duration-200 hover:bg-gray-100 hover:border-gray-300",onClick:()=>{m(e.query)},children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-800 truncate",children:e.query}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1.5 flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"font-medium text-blue-600",children:[(null===(l=e.response)||void 0===l?void 0:null===(s=l.results)||void 0===s?void 0:s.length)||0," ",(null===(i=e.response)||void 0===i?void 0:null===(r=i.results)||void 0===r?void 0:r.length)===1?"result":"results"]}),void 0!==e.latency&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:""}),(0,a.jsxs)("span",{className:"font-medium text-green-600",children:[e.latency,"ms"]})]}),(0,a.jsx)("span",{children:""}),(0,a.jsx)("span",{children:b(e.timestamp)})]})]},t+1)})})]})]}):(0,a.jsxs)("div",{className:"h-full flex flex-col items-center justify-center p-8",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-24 h-24 rounded-full bg-gray-100 mb-6",children:(0,a.jsx)(k.Z,{style:{fontSize:"48px",color:"#9ca3af"}})}),(0,a.jsx)(sd,{className:"text-lg text-gray-600 font-medium",children:"Test your search tool"}),(0,a.jsx)(sd,{className:"text-sm text-gray-500 mt-2",children:"Enter a query above to see search results"})]})})]})]})},sm=e=>{var t;let{searchTool:s,onBack:l,isEditing:r,accessToken:i,availableProviders:n}=e,[o,d]=(0,D.useState)({}),c=async(e,t)=>{await (0,tK.vQ)(e)&&(d(e=>({...e,[t]:!0})),setTimeout(()=>{d(e=>({...e,[t]:!1}))},2e3))};return(0,a.jsxs)("div",{className:"p-4 max-w-full",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(eN.Z,{icon:ez.Z,variant:"light",className:"mb-4",onClick:l,children:"Back to All Search Tools"}),(0,a.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,a.jsx)(eT.Z,{children:s.search_tool_name}),(0,a.jsx)(X.ZP,{type:"text",size:"small",icon:o["search-tool-name"]?(0,a.jsx)(si.Z,{size:12}):(0,a.jsx)(sn.Z,{size:12}),onClick:()=>c(s.search_tool_name,"search-tool-name"),className:"left-2 z-10 transition-all duration-200 ".concat(o["search-tool-name"]?"text-green-600 bg-green-50 border-green-200":"text-gray-500 hover:text-gray-700 hover:bg-gray-100")})]}),(0,a.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,a.jsx)(eA.Z,{className:"text-gray-500 font-mono",children:s.search_tool_id}),(0,a.jsx)(X.ZP,{type:"text",size:"small",icon:o["search-tool-id"]?(0,a.jsx)(si.Z,{size:12}):(0,a.jsx)(sn.Z,{size:12}),onClick:()=>c(s.search_tool_id,"search-tool-id"),className:"left-2 z-10 transition-all duration-200 ".concat(o["search-tool-id"]?"text-green-600 bg-green-50 border-green-200":"text-gray-500 hover:text-gray-700 hover:bg-gray-100")})]})]})}),(0,a.jsxs)(tq.Z,{numItems:1,numItemsSm:2,numItemsLg:3,className:"gap-6",children:[(0,a.jsxs)(eZ.Z,{children:[(0,a.jsx)(eA.Z,{children:"Provider"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(eT.Z,{children:(e=>{let t=n.find(t=>t.provider_name===e);return(null==t?void 0:t.ui_friendly_name)||e})(s.litellm_params.search_provider)})})]}),(0,a.jsxs)(eZ.Z,{children:[(0,a.jsx)(eA.Z,{children:"API Key"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(eA.Z,{children:s.litellm_params.api_key?"****":"Not set"})})]}),(0,a.jsxs)(eZ.Z,{children:[(0,a.jsx)(eA.Z,{children:"Created At"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(eA.Z,{children:s.created_at?new Date(s.created_at).toLocaleString():"Unknown"})})]})]}),(null===(t=s.search_tool_info)||void 0===t?void 0:t.description)&&(0,a.jsxs)(eZ.Z,{className:"mt-6",children:[(0,a.jsx)(eA.Z,{children:"Description"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(eA.Z,{children:s.search_tool_info.description})})]}),(0,a.jsx)("div",{className:"mt-6",children:i&&(0,a.jsx)(sc,{searchToolName:s.search_tool_name,accessToken:i})})]})};var su=s(29),sx=s.n(su),sh=s(23496),sp=s(35291);let{Text:sg}=tH.default;var sj=e=>{let{litellmParams:t,accessToken:s,onTestComplete:l}=e,[r,i]=(0,D.useState)(!0),[o,d]=(0,D.useState)(null),[c,m]=(0,D.useState)(!1);(0,D.useEffect)(()=>{(async()=>{i(!0);try{let e=await (0,n.testSearchToolConnection)(s,t);d(e),"success"===e.status&&eR.Z.success("Connection test successful!")}catch(e){d({status:"error",message:e instanceof Error?e.message:"Unknown error occurred",error_type:"NetworkError"})}finally{i(!1),l&&l()}})()},[s,t,l]);let u=(null==o?void 0:o.message)?(e=>{if(!e)return"Unknown error";let t=e.split("stack trace:")[0].trim().replace(/^litellm\.(.*?)Error:\s*/,"").replace(/^AuthenticationError:\s*/,"");if(t.includes("<html>")||t.includes("<!DOCTYPE")){let e=t.match(/<title>(.*?)<\/title>/);return e?e[1]:t.includes("401")||t.includes("Authorization Required")?"Authentication failed: Invalid API key or credentials":"Authentication error - please check your API key"}return t.length>200?t.substring(0,200)+"...":t})(o.message):"Unknown error";return r?(0,a.jsx)("div",{style:{padding:"24px",borderRadius:"8px",backgroundColor:"#fff"},children:(0,a.jsxs)("div",{style:{textAlign:"center",padding:"32px 20px"},className:"jsx-dc9a0e2d897fe63b",children:[(0,a.jsx)("div",{style:{marginBottom:"16px"},className:"jsx-dc9a0e2d897fe63b loading-spinner",children:(0,a.jsx)("div",{style:{border:"3px solid #f3f3f3",borderTop:"3px solid #1890ff",borderRadius:"50%",width:"30px",height:"30px",animation:"spin 1s linear infinite",margin:"0 auto"},className:"jsx-dc9a0e2d897fe63b"})}),(0,a.jsxs)(sg,{style:{fontSize:"16px"},children:["Testing connection to ",t.search_provider||"search provider","..."]}),(0,a.jsx)(sx(),{id:"dc9a0e2d897fe63b",children:"@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]})}):o?(0,a.jsxs)("div",{style:{padding:"24px",borderRadius:"8px",backgroundColor:"#fff"},children:["success"===o.status?(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"32px 20px"},children:[(0,a.jsx)("div",{style:{color:"#52c41a",fontSize:"24px",display:"flex",alignItems:"center"},children:(0,a.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"check-circle",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,a.jsx)("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"})})}),(0,a.jsxs)("div",{style:{marginLeft:"12px"},children:[(0,a.jsxs)(sg,{type:"success",style:{fontSize:"18px",fontWeight:500,display:"block"},children:["Connection to ",t.search_provider," successful!"]}),o.test_query&&(0,a.jsxs)(sg,{style:{fontSize:"14px",color:"#666",marginTop:"8px",display:"block"},children:["Test query: ",(0,a.jsx)("code",{style:{backgroundColor:"#f0f0f0",padding:"2px 6px",borderRadius:"4px"},children:o.test_query})]}),void 0!==o.results_count&&(0,a.jsxs)(sg,{style:{fontSize:"14px",color:"#666",display:"block"},children:["Results retrieved: ",o.results_count]})]})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px"},children:[(0,a.jsx)(sp.Z,{style:{color:"#ff4d4f",fontSize:"24px",marginRight:"12px"}}),(0,a.jsxs)(sg,{type:"danger",style:{fontSize:"18px",fontWeight:500},children:["Connection to ",t.search_provider||"search provider"," failed"]})]}),(0,a.jsxs)("div",{style:{backgroundColor:"#fff2f0",border:"1px solid #ffccc7",borderRadius:"8px",padding:"16px",marginBottom:"20px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.03)"},children:[(0,a.jsxs)(sg,{strong:!0,style:{display:"block",marginBottom:"8px"},children:["Error:"," "]}),(0,a.jsx)(sg,{type:"danger",style:{fontSize:"14px",lineHeight:"1.5"},children:u}),o.error_type&&(0,a.jsx)("div",{style:{marginTop:"8px"},children:(0,a.jsxs)(sg,{style:{fontSize:"13px",color:"#666"},children:["Error type:"," ",(0,a.jsx)("code",{style:{backgroundColor:"#ffebee",padding:"2px 6px",borderRadius:"4px",color:"#d32f2f"},children:o.error_type})]})}),o.message&&(0,a.jsx)("div",{style:{marginTop:"12px"},children:(0,a.jsx)(X.ZP,{type:"link",onClick:()=>m(!c),style:{paddingLeft:0,height:"auto"},children:c?"Hide Details":"Show Details"})})]}),c&&(0,a.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,a.jsx)(sg,{strong:!0,style:{display:"block",marginBottom:"8px",fontSize:"15px"},children:"Full Error Details"}),(0,a.jsx)("pre",{style:{backgroundColor:"#f5f5f5",padding:"16px",borderRadius:"8px",fontSize:"13px",maxHeight:"200px",overflow:"auto",border:"1px solid #e8e8e8",lineHeight:"1.5",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:o.message})]}),(0,a.jsxs)("div",{style:{backgroundColor:"#fffbf0",border:"1px solid #ffe58f",borderLeft:"4px solid #faad14",borderRadius:"8px",padding:"16px"},children:[(0,a.jsx)(sg,{strong:!0,style:{display:"block",marginBottom:"8px",color:"#d48806"},children:"Troubleshooting tips:"}),(0,a.jsxs)("ul",{style:{margin:"8px 0",paddingLeft:"20px",color:"#ad6800"},children:[(0,a.jsx)("li",{style:{marginBottom:"6px"},children:"Verify your API key is correct and active"}),(0,a.jsx)("li",{style:{marginBottom:"6px"},children:"Check if the search provider service is operational"}),(0,a.jsx)("li",{style:{marginBottom:"6px"},children:"Ensure you have sufficient credits/quota with the provider"}),(0,a.jsx)("li",{style:{marginBottom:"6px"},children:"Review the provider's documentation for any additional requirements"})]})]})]})}),(0,a.jsx)(sh.Z,{style:{margin:"24px 0 16px"}}),(0,a.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,a.jsx)(X.ZP,{type:"link",href:"https://docs.litellm.ai/docs/search",target:"_blank",icon:(0,a.jsx)(ta.Z,{}),children:"View Search Documentation"})})]}):null},sf=s(33145);let{TextArea:sy}=J.default,sv=e=>"".concat("../ui/assets/logos/").concat(e,".png"),sb=e=>{let{providerName:t,displayName:s}=e;return(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(sf.default,{src:sv(t),alt:"",width:20,height:20,style:{marginRight:"8px",objectFit:"contain"},onError:e=>{e.currentTarget.style.display="none"}}),(0,a.jsx)("span",{children:s})]})};var s_=e=>{let{userRole:t,accessToken:s,onCreateSuccess:l,isModalVisible:i,setModalVisible:o}=e,[d]=G.Z.useForm(),[c,m]=(0,D.useState)(!1),[u,x]=(0,D.useState)({}),[h,p]=(0,D.useState)(!1),[g,j]=(0,D.useState)(!1),[f,y]=(0,D.useState)(""),{data:v,isLoading:b}=(0,r.a)({queryKey:["searchProviders"],queryFn:()=>{if(!s)throw Error("Access Token required");return(0,n.fetchAvailableSearchProviders)(s)},enabled:!!s&&i}),_=(null==v?void 0:v.providers)||[],N=async e=>{m(!0);try{let t={search_tool_name:e.search_tool_name,litellm_params:{search_provider:e.search_provider,api_key:e.api_key,api_base:e.api_base,timeout:e.timeout?parseFloat(e.timeout):void 0,max_retries:e.max_retries?parseInt(e.max_retries):void 0},search_tool_info:e.description?{description:e.description}:void 0};if(console.log("Creating search tool with payload:",t),null!=s){let e=await (0,n.createSearchTool)(s,t);eR.Z.success("Search tool created successfully"),d.resetFields(),x({}),o(!1),l(e)}}catch(e){eR.Z.error("Error creating search tool: "+e)}finally{m(!1)}},Z=async()=>{try{await d.validateFields(["search_provider","api_key"]),j(!0),y("test-".concat(Date.now())),p(!0)}catch(e){eR.Z.error("Please fill in Search Provider and API Key before testing")}};return(D.useEffect(()=>{i||x({})},[i]),(0,E.tY)(t))?(0,a.jsxs)(K.Z,{title:(0,a.jsxs)("div",{className:"flex items-center space-x-3 pb-4 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDD0D"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Add New Search Tool"})]}),open:i,width:800,onCancel:()=>{d.resetFields(),x({}),o(!1)},footer:null,className:"top-8",styles:{body:{padding:"24px"},header:{padding:"24px 24px 0 24px",border:"none"}},children:[(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsxs)(G.Z,{form:d,onFinish:N,onValuesChange:(e,t)=>x(t),layout:"vertical",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,a.jsx)(G.Z.Item,{label:(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:["Search Tool Name",(0,a.jsx)(ef.Z,{title:"A unique name to identify this search tool configuration (e.g., 'perplexity-search', 'tavily-news-search').",children:(0,a.jsx)(ta.Z,{className:"ml-2 text-blue-400 hover:text-blue-600 cursor-help"})})]}),name:"search_tool_name",rules:[{required:!0,message:"Please enter a search tool name"},{pattern:/^[a-zA-Z0-9_-]+$/,message:"Name can only contain letters, numbers, hyphens, and underscores"}],children:(0,a.jsx)(ts.o,{placeholder:"e.g., perplexity-search, my-tavily-tool",className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500"})}),(0,a.jsx)(G.Z.Item,{label:(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:["Search Provider",(0,a.jsx)(ef.Z,{title:"Select the search provider you want to use. Each provider has different capabilities and pricing.",children:(0,a.jsx)(ta.Z,{className:"ml-2 text-blue-400 hover:text-blue-600 cursor-help"})})]}),name:"search_provider",rules:[{required:!0,message:"Please select a search provider"}],children:(0,a.jsx)(Y.default,{placeholder:"Select a search provider",className:"rounded-lg",size:"large",loading:b,showSearch:!0,optionFilterProp:"children",optionLabelProp:"label",children:_.map(e=>(0,a.jsx)(Y.default.Option,{value:e.provider_name,label:(0,a.jsx)(sb,{providerName:e.provider_name,displayName:e.ui_friendly_name}),children:(0,a.jsx)(sb,{providerName:e.provider_name,displayName:e.ui_friendly_name})},e.provider_name))})}),(0,a.jsx)(G.Z.Item,{label:(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:["API Key",(0,a.jsx)(ef.Z,{title:"The API key for authenticating with the search provider. This will be securely stored.",children:(0,a.jsx)(ta.Z,{className:"ml-2 text-blue-400 hover:text-blue-600 cursor-help"})})]}),name:"api_key",rules:[{required:!1,message:"Please enter an API key"}],children:(0,a.jsx)(ts.o,{type:"password",placeholder:"Enter your API key",className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500"})}),(0,a.jsx)(G.Z.Item,{label:(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Description (Optional)"}),name:"description",children:(0,a.jsx)(sy,{rows:3,placeholder:"Brief description of this search tool's purpose",className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500"})})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-gray-100",children:[(0,a.jsx)(ef.Z,{title:"Get help on our github",children:(0,a.jsx)(tH.default.Link,{href:"https://github.com/BerriAI/litellm/issues",target:"_blank",children:"Need Help?"})}),(0,a.jsxs)("div",{className:"space-x-2",children:[(0,a.jsx)(ts.z,{onClick:Z,loading:g,children:"Test Connection"}),(0,a.jsx)(ts.z,{loading:c,type:"submit",children:"Add Search Tool"})]})]})]})}),(0,a.jsx)(K.Z,{title:"Connection Test Results",open:h,onCancel:()=>{p(!1),j(!1)},footer:[(0,a.jsx)(ts.z,{onClick:()=>{p(!1),j(!1)},children:"Close"},"close")],width:700,children:h&&s&&(0,a.jsx)(sj,{litellmParams:{search_provider:u.search_provider,api_key:u.api_key,api_base:u.api_base},accessToken:s,onTestComplete:()=>j(!1)},f)})]}):null};let sN=e=>{let{isModalOpen:t,title:s,confirmDelete:l,cancelDelete:r}=e;return t?(0,a.jsx)(K.Z,{open:t,onOk:l,okType:"danger",onCancel:r,children:(0,a.jsxs)(tq.Z,{numItems:1,className:"gap-2 w-full",children:[(0,a.jsx)(eT.Z,{children:s}),(0,a.jsx)(tB.Z,{numColSpan:1,children:(0,a.jsx)("p",{children:"Are you sure you want to delete this search tool?"})})]})}):null};var sZ=e=>{let{accessToken:t,userRole:s,userID:l}=e,{data:i,isLoading:o,refetch:d}=(0,r.a)({queryKey:["searchTools"],queryFn:()=>{if(!t)throw Error("Access Token required");return(0,n.fetchSearchTools)(t).then(e=>e.search_tools||[])},enabled:!!t}),{data:c,isLoading:m}=(0,r.a)({queryKey:["searchProviders"],queryFn:()=>{if(!t)throw Error("Access Token required");return(0,n.fetchAvailableSearchProviders)(t)},enabled:!!t}),u=(null==c?void 0:c.providers)||[],[x,h]=(0,D.useState)(null),[p,g]=(0,D.useState)(!1),[j,f]=(0,D.useState)(null),[y,v]=(0,D.useState)(!1),[b,_]=(0,D.useState)(!1),[N,Z]=(0,D.useState)(!1),[w]=G.Z.useForm(),k=D.useMemo(()=>sr(e=>{f(e),v(!1)},e=>{let t=null==i?void 0:i.find(t=>t.search_tool_id===e);if(t){var s;w.setFieldsValue({search_tool_name:t.search_tool_name,search_provider:t.litellm_params.search_provider,api_key:t.litellm_params.api_key,api_base:t.litellm_params.api_base,timeout:t.litellm_params.timeout,max_retries:t.litellm_params.max_retries,description:null===(s=t.search_tool_info)||void 0===s?void 0:s.description}),f(e),Z(!0)}},S,u),[u,i,w]);function S(e){h(e),g(!0)}let C=async()=>{if(null!=x&&null!=t){try{await (0,n.deleteSearchTool)(t,x),eR.Z.success("Deleted search tool successfully"),d()}catch(e){console.error("Error deleting the search tool:",e),eR.Z.error("Failed to delete search tool")}g(!1),h(null)}},P=async()=>{if(t&&j)try{let e=await w.validateFields(),s={search_tool_name:e.search_tool_name,litellm_params:{search_provider:e.search_provider,api_key:e.api_key,api_base:e.api_base,timeout:e.timeout?parseFloat(e.timeout):void 0,max_retries:e.max_retries?parseInt(e.max_retries):void 0},search_tool_info:e.description?{description:e.description}:void 0};await (0,n.updateSearchTool)(t,j,s),eR.Z.success("Search tool updated successfully"),Z(!1),w.resetFields(),f(null),d()}catch(e){console.error("Failed to update search tool:",e),eR.Z.error("Failed to update search tool")}};return t&&s&&l?(0,a.jsxs)("div",{className:"w-full h-full p-6",children:[(0,a.jsx)(sN,{isModalOpen:p,title:"Delete Search Tool",confirmDelete:C,cancelDelete:()=>{g(!1),h(null)}}),(0,a.jsx)(s_,{userRole:s,accessToken:t,onCreateSuccess:e=>{_(!1),d()},isModalVisible:b,setModalVisible:_}),(0,a.jsx)(K.Z,{title:"Edit Search Tool",open:N,onOk:P,onCancel:()=>{Z(!1),w.resetFields(),f(null)},width:600,children:(0,a.jsxs)(G.Z,{form:w,layout:"vertical",children:[(0,a.jsx)(G.Z.Item,{name:"search_tool_name",label:"Search Tool Name",rules:[{required:!0,message:"Please enter a search tool name"}],children:(0,a.jsx)(J.default,{placeholder:"e.g., my-perplexity-search"})}),(0,a.jsx)(G.Z.Item,{name:"search_provider",label:"Search Provider",rules:[{required:!0,message:"Please select a search provider"}],children:(0,a.jsx)(Y.default,{placeholder:"Select a search provider",loading:m,children:u.map(e=>(0,a.jsx)(Y.default.Option,{value:e.provider_name,children:e.ui_friendly_name},e.provider_name))})}),(0,a.jsx)(G.Z.Item,{name:"api_key",label:"API Key",extra:"API key for the search provider",children:(0,a.jsx)(J.default.Password,{placeholder:"Enter API key"})}),(0,a.jsx)(G.Z.Item,{name:"description",label:"Description",children:(0,a.jsx)(J.default.TextArea,{rows:3,placeholder:"Description of this search tool"})})]})}),(0,a.jsx)(eT.Z,{children:"Search Tools"}),(0,a.jsx)(eA.Z,{className:"text-tremor-content mt-2",children:"Configure and manage your search providers"}),(0,E.tY)(s)&&(0,a.jsx)(eN.Z,{className:"mt-4 mb-4",onClick:()=>_(!0),children:"+ Add New Search Tool"}),(0,a.jsx)(()=>j?(0,a.jsx)(sm,{searchTool:(null==i?void 0:i.find(e=>e.search_tool_id===j))||{search_tool_id:"",search_tool_name:"",litellm_params:{search_provider:""}},onBack:()=>{v(!1),f(null),d()},isEditing:y,accessToken:t,availableProviders:u}):(0,a.jsx)("div",{className:"w-full h-full",children:(0,a.jsx)("div",{className:"w-full px-6 mt-6",children:(0,a.jsx)(sa.w,{data:i||[],columns:k,renderSubComponent:()=>(0,a.jsx)("div",{}),getRowCanExpand:()=>!1,isLoading:o,noDataMessage:"No search tools configured"})})}),{})]}):(console.log("Missing required authentication parameters",{accessToken:t,userRole:s,userID:l}),(0,a.jsx)("div",{className:"p-6 text-center text-gray-500",children:"Missing required authentication parameters."}))},sw=s(89264),sk=s(39145),sS=s(59004),sC=s(5183),sP=s(18143),sA=s(83536),sT=s(9140),sI=s(22703),sL=s(86653),sz=s(25073),sD=s(19574);let sE=e=>{let{icon:t,title:s,description:l,onClick:r}=e;return(0,a.jsxs)("button",{onClick:r,className:"group flex items-start gap-4 p-4 bg-white hover:bg-slate-50 rounded-xl border border-slate-200 hover:border-indigo-200 transition-all duration-200 text-left w-full",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-indigo-50 text-indigo-600 flex items-center justify-center group-hover:bg-indigo-100 transition-colors",children:t}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-slate-900 group-hover:text-indigo-600 transition-colors",children:s}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-0.5 truncate",children:l})]}),(0,a.jsx)(sz.Z,{className:"text-slate-400 group-hover:text-indigo-600 group-hover:translate-x-1 transition-all mt-1"})]})},sM=e=>{let{icon:t,label:s,value:l,subtext:r,color:i}=e;return(0,a.jsx)("div",{className:"rounded-xl border p-5 ".concat({indigo:"bg-indigo-50 text-indigo-600 border-indigo-100",emerald:"bg-emerald-50 text-emerald-600 border-emerald-100",amber:"bg-amber-50 text-amber-600 border-amber-100",rose:"bg-rose-50 text-rose-600 border-rose-100"}[i]),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-medium opacity-80 uppercase tracking-wide",children:s}),(0,a.jsx)("p",{className:"text-2xl font-bold mt-1",children:l}),r&&(0,a.jsx)("p",{className:"text-xs opacity-70 mt-0.5",children:r})]}),(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl ".concat({indigo:"bg-indigo-100/50",emerald:"bg-emerald-100/50",amber:"bg-amber-100/50",rose:"bg-rose-100/50"}[i]," flex items-center justify-center text-xl"),children:t})]})})};var sF=e=>{let{userEmail:t,userRole:s,keysCount:l,teamsCount:r,modelsCount:i,setPage:n}=e,o=(null==t?void 0:t.split("@")[0])||"Admin",d=o.charAt(0).toUpperCase()+o.slice(1),c=[{icon:(0,a.jsx)(u.Z,{className:"text-lg"}),title:"Create Virtual Key",description:"Generate a new API key for your application",page:"api-keys"},{icon:(0,a.jsx)(h.Z,{className:"text-lg"}),title:"Manage Models",description:"Configure LLM models and endpoints",page:"models"},{icon:(0,a.jsx)(x.Z,{className:"text-lg"}),title:"Try Playground",description:"Test your models interactively",page:"llm-playground"},{icon:(0,a.jsx)(f.Z,{className:"text-lg"}),title:"View Usage",description:"Monitor spend and API usage",page:"new_usage"},{icon:(0,a.jsx)(p.Z,{className:"text-lg"}),title:"Configure Agents",description:"Set up and manage AI agents",page:"agents"},{icon:(0,a.jsx)(C.Z,{className:"text-lg"}),title:"View Logs",description:"Explore request and response logs",page:"logs"}];return(0,a.jsxs)("div",{className:"p-6 space-y-8",children:[(0,a.jsxs)("div",{className:"bg-[#0F172A] rounded-2xl p-8 text-white shadow-xl shadow-slate-200/50 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS1vcGFjaXR5PSIwLjA1IiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=')] opacity-20"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(sD.Z,{className:"text-xl text-slate-400"}),(0,a.jsx)("span",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-[0.2em]",children:"AI Gateway"})]}),(0,a.jsxs)("h1",{className:"text-3xl font-bold mb-2 tracking-tight",children:["Welcome back, ",d,"!"]}),(0,a.jsxs)("p",{className:"text-slate-400 text-sm max-w-2xl font-medium",children:["You're logged in as ",(0,a.jsx)("span",{className:"text-indigo-400",children:s}),". Manage your LLM infrastructure from this centralized dashboard."]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(sM,{icon:(0,a.jsx)(u.Z,{}),label:"Virtual Keys",value:l,subtext:"Active",color:"indigo"}),(0,a.jsx)(sM,{icon:(0,a.jsx)(h.Z,{}),label:"Models",value:i,subtext:"Configured",color:"emerald"}),(0,a.jsx)(sM,{icon:(0,a.jsx)(f.Z,{}),label:"Teams",value:r,subtext:"Active",color:"amber"}),(0,a.jsx)(sM,{icon:(0,a.jsx)(p.Z,{}),label:"Agents",value:"",subtext:"Available",color:"rose"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Quick Actions"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:c.map(e=>(0,a.jsx)(sE,{icon:e.icon,title:e.title,description:e.description,page:e.page,onClick:()=>n(e.page)},e.page))})]})]})},sO=s(69734),sR=s(97060),sB=s(21623),sq=s(29827),sU=s(14474),sV=s(99376);function sH(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";document.cookie="".concat(e,"=; Max-Age=0; Path=").concat(t)}let sK=new sB.S;function sG(){var e;let[t,s]=(0,D.useState)(""),[r,i]=(0,D.useState)(!1),[o,d]=(0,D.useState)(!1),[c,m]=(0,D.useState)(null),[u,x]=(0,D.useState)(null),[h,p]=(0,D.useState)([]),[g,j]=(0,D.useState)([]),[f,y]=(0,D.useState)([]),[v,b]=(0,D.useState)({PROXY_BASE_URL:"",PROXY_LOGOUT_URL:""}),[_,N]=(0,D.useState)(!0),Z=(0,sV.useSearchParams)(),[w,k]=(0,D.useState)({data:[]}),[S,C]=(0,D.useState)(null),[P,A]=(0,D.useState)(!1),[T,I]=(0,D.useState)(!0),[L,z]=(0,D.useState)(null),M=Z.get("invitation_id"),[F,O]=(0,D.useState)(()=>Z.get("page")||"api-keys"),R=e=>{let t=new URLSearchParams(Z);t.set("page",e),window.history.pushState(null,"","?".concat(t.toString())),O(e)},[H,K]=(0,D.useState)(null),[G,W]=(0,D.useState)(!1),Y=e=>{p(t=>t?[...t,e]:[e]),A(()=>!P)},J=!1===T&&null===S&&null===M;return((0,D.useEffect)(()=>{let e=!1;return(async()=>{try{await (0,n.getUiConfig)()}catch(e){}if(e)return;let t=function(e){let t=document.cookie.split("; ").find(t=>t.startsWith(e+"="));if(!t)return null;let s=t.slice(e.length+1);try{return decodeURIComponent(s)}catch(e){return s}}("token"),s=t&&!(0,sR.v)(t)?t:null;t&&!s&&sH("token","/"),e||(C(s),I(!1))})(),()=>{e=!0}},[]),(0,D.useEffect)(()=>{if(J){let e=(n.proxyBaseUrl||"")+"/ui/login";window.location.replace(e)}},[J]),(0,D.useEffect)(()=>{if(!S)return;if((0,sR.v)(S)){sH("token","/"),C(null);return}let e=null;try{e=(0,sU.o)(S)}catch(e){sH("token","/"),C(null);return}if(e){if(K(e.key),d(e.disabled_non_admin_personal_key_creation),e.user_role){let t=function(e){if(!e)return"Undefined Role";switch(e.toLowerCase()){case"app_owner":case"demo_app_owner":return"App Owner";case"app_admin":case"proxy_admin":return"Admin";case"proxy_admin_viewer":return"Admin Viewer";case"org_admin":return"Org Admin";case"internal_user":return"Internal User";case"internal_user_viewer":case"internal_viewer":return"Internal Viewer";case"app_user":return"App User";default:return"Unknown Role"}}(e.user_role);s(t),"Admin Viewer"==t&&O("usage")}e.user_email&&m(e.user_email),e.login_method&&N("username_password"==e.login_method),e.premium_user&&i(e.premium_user),e.auth_header_name&&(0,n.setGlobalLitellmHeaderName)(e.auth_header_name),e.user_id&&z(e.user_id)}},[S]),(0,D.useEffect)(()=>{H&&L&&t&&(0,t9.Nr)(L,t,H,y),H&&L&&t&&(0,eV.Z)(H,L,t,null,x),H&&(0,t7.g)(H,j)},[H,L,t]),T||J)?(0,a.jsx)(eH.Z,{}):(0,a.jsx)(D.Suspense,{fallback:(0,a.jsx)(eH.Z,{}),children:(0,a.jsx)(sq.aH,{client:sK,children:(0,a.jsx)(sO.f,{accessToken:H,children:M?(0,a.jsx)(sA.Z,{userID:L,userRole:t,premiumUser:r,teams:u,keys:h,setUserRole:s,userEmail:c,setUserEmail:m,setTeams:x,setKeys:p,organizations:g,addKey:Y,createClicked:P}):(0,a.jsx)(tb,{sidebar:(0,a.jsx)(B,{setPage:R,defaultSelectedKey:F,collapsed:G}),header:(0,a.jsx)(tL,{userID:L,userEmail:c,userRole:t,premiumUser:r,proxySettings:v,setProxySettings:b,accessToken:H,isPublicPage:!1,page:F}),children:"dashboard"==F?(0,a.jsx)(sF,{userEmail:c,userRole:t,keysCount:(null==h?void 0:h.length)||0,teamsCount:(null==u?void 0:u.length)||0,modelsCount:(null==w?void 0:null===(e=w.data)||void 0===e?void 0:e.length)||0,setPage:R}):"api-keys"==F?(0,a.jsx)(sA.Z,{userID:L,userRole:t,premiumUser:r,teams:u,keys:h,setUserRole:s,userEmail:c,setUserEmail:m,setTeams:x,setKeys:p,organizations:g,addKey:Y,createClicked:P}):"models"==F?(0,a.jsx)(q.Z,{token:S,keys:h,modelData:w,setModelData:k,premiumUser:r,teams:u}):"llm-playground"==F?(0,a.jsx)(U.default,{}):"users"==F?(0,a.jsx)(sL.Z,{userID:L,userRole:t,token:S,keys:h,teams:u,accessToken:H,setKeys:p}):"teams"==F?(0,a.jsx)(t8,{teams:u,setTeams:x,accessToken:H,userID:L,userRole:t,organizations:g,premiumUser:r,searchParams:Z}):"organizations"==F?(0,a.jsx)(t7.Z,{organizations:g,setOrganizations:j,userModels:f,accessToken:H,userRole:t,premiumUser:r}):"admin-panel"==F?(0,a.jsx)(V.Z,{setTeams:x,searchParams:Z,accessToken:H,userID:L,showSSOBanner:_,premiumUser:r,proxySettings:v}):"api_ref"==F?(0,a.jsx)(l.Z,{proxySettings:v}):"logging-and-alerts"==F?(0,a.jsx)(sw.Z,{userID:L,userRole:t,accessToken:H,premiumUser:r}):"budgets"==F?(0,a.jsx)(eq.Z,{accessToken:H}):"guardrails"==F?(0,a.jsx)(tf.Z,{accessToken:H,userRole:t}):"agents"==F?(0,a.jsx)(eB,{accessToken:H,userRole:t}):"prompts"==F?(0,a.jsx)(st.Z,{accessToken:H,userRole:t}):"transform-request"==F?(0,a.jsx)(sS.Z,{accessToken:H}):"router-settings"==F?(0,a.jsx)(tj.Z,{userID:L,userRole:t,accessToken:H,modelData:w}):"ui-theme"==F?(0,a.jsx)(sC.Z,{userID:L,userRole:t,accessToken:H}):"cost-tracking"==F?(0,a.jsx)(tg,{userID:L,userRole:t,accessToken:H}):"model-hub-table"==F?(0,E.tY)(t)?(0,a.jsx)(tv.Z,{accessToken:H,publicPage:!1,premiumUser:r,userRole:t}):(0,a.jsx)(ss.Z,{accessToken:H,isEmbedded:!0}):"caching"==F?(0,a.jsx)(eU.Z,{userID:L,userRole:t,token:S,accessToken:H,premiumUser:r}):"pass-through-settings"==F?(0,a.jsx)(se.Z,{userID:L,userRole:t,accessToken:H,modelData:w,premiumUser:r}):"logs"==F?(0,a.jsx)(sI.Z,{userID:L,userRole:t,token:S,accessToken:H,allTeams:null!=u?u:[],premiumUser:r}):"mcp-servers"==F?(0,a.jsx)(ty.d,{accessToken:H,userRole:t,userID:L}):"search-tools"==F?(0,a.jsx)(sZ,{accessToken:H,userRole:t,userID:L}):"tag-management"==F?(0,a.jsx)(sk.Z,{accessToken:H,userRole:t,userID:L}):"vector-stores"==F?(0,a.jsx)(sT.Z,{accessToken:H,userRole:t,userID:L}):"new_usage"==F?(0,a.jsx)(tz.Z,{teams:null!=u?u:[],organizations:null!=g?g:[]}):(0,a.jsx)(sP.Z,{userID:L,userRole:t,token:S,accessToken:H,keys:h,premiumUser:r})})})})})}},88904:function(e,t,s){"use strict";var a=s(57437),l=s(2265),r=s(88913),i=s(57840),n=s(37592),o=s(63709),d=s(10353),c=s(19250),m=s(65925),u=s(46468),x=s(9114);t.Z=e=>{var t;let{accessToken:s,userID:h,userRole:p}=e,[g,j]=(0,l.useState)(!0),[f,y]=(0,l.useState)(null),[v,b]=(0,l.useState)(!1),[_,N]=(0,l.useState)({}),[Z,w]=(0,l.useState)(!1),[k,S]=(0,l.useState)([]),{Paragraph:C}=i.default,{Option:P}=n.default;(0,l.useEffect)(()=>{(async()=>{if(!s){j(!1);return}try{let e=await (0,c.getDefaultTeamSettings)(s);if(y(e),N(e.values||{}),s)try{let e=await (0,c.modelAvailableCall)(s,h,p);if(e&&e.data){let t=e.data.map(e=>e.id);S(t)}}catch(e){console.error("Error fetching available models:",e)}}catch(e){console.error("Error fetching team SSO settings:",e),x.Z.fromBackend("Failed to fetch team settings")}finally{j(!1)}})()},[s]);let A=async()=>{if(s){w(!0);try{let e=await (0,c.updateDefaultTeamSettings)(s,_);y({...f,values:e.settings}),b(!1),x.Z.success("Default team settings updated successfully")}catch(e){console.error("Error updating team settings:",e),x.Z.fromBackend("Failed to update team settings")}finally{w(!1)}}},T=(e,t)=>{N(s=>({...s,[e]:t}))},I=(e,t,s)=>{var l;let i=t.type;return"budget_duration"===e?(0,a.jsx)(m.Z,{value:_[e]||null,onChange:t=>T(e,t),className:"mt-2"}):"boolean"===i?(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(o.Z,{checked:!!_[e],onChange:t=>T(e,t)})}):"array"===i&&(null===(l=t.items)||void 0===l?void 0:l.enum)?(0,a.jsx)(n.default,{mode:"multiple",style:{width:"100%"},value:_[e]||[],onChange:t=>T(e,t),className:"mt-2",children:t.items.enum.map(e=>(0,a.jsx)(P,{value:e,children:e},e))}):"models"===e?(0,a.jsxs)(n.default,{mode:"multiple",style:{width:"100%"},value:_[e]||[],onChange:t=>T(e,t),className:"mt-2",children:[(0,a.jsx)(P,{value:"no-default-models",children:"No Default Models"},"no-default-models"),k.map(e=>(0,a.jsx)(P,{value:e,children:(0,u.W0)(e)},e))]}):"string"===i&&t.enum?(0,a.jsx)(n.default,{style:{width:"100%"},value:_[e]||"",onChange:t=>T(e,t),className:"mt-2",children:t.enum.map(e=>(0,a.jsx)(P,{value:e,children:e},e))}):(0,a.jsx)(r.oi,{value:void 0!==_[e]?String(_[e]):"",onChange:t=>T(e,t.target.value),placeholder:t.description||"",className:"mt-2"})},L=(e,t)=>null==t?(0,a.jsx)("span",{className:"text-gray-400",children:"Not set"}):"budget_duration"===e?(0,a.jsx)("span",{children:(0,m.m)(t)}):"boolean"==typeof t?(0,a.jsx)("span",{children:t?"Enabled":"Disabled"}):"models"===e&&Array.isArray(t)?0===t.length?(0,a.jsx)("span",{className:"text-gray-400",children:"None"}):(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:t.map((e,t)=>(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-100 rounded text-xs",children:(0,u.W0)(e)},t))}):"object"==typeof t?Array.isArray(t)?0===t.length?(0,a.jsx)("span",{className:"text-gray-400",children:"None"}):(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:t.map((e,t)=>(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-100 rounded text-xs",children:"object"==typeof e?JSON.stringify(e):String(e)},t))}):(0,a.jsx)("pre",{className:"bg-gray-100 p-2 rounded text-xs overflow-auto mt-1",children:JSON.stringify(t,null,2)}):(0,a.jsx)("span",{children:String(t)});return g?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)(d.Z,{size:"large"})}):f?(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)(r.Dx,{className:"text-xl",children:"Default Team Settings"}),!g&&f&&(v?(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(r.zx,{variant:"secondary",onClick:()=>{b(!1),N(f.values||{})},disabled:Z,children:"Cancel"}),(0,a.jsx)(r.zx,{onClick:A,loading:Z,children:"Save Changes"})]}):(0,a.jsx)(r.zx,{onClick:()=>b(!0),children:"Edit Settings"}))]}),(0,a.jsx)(r.xv,{children:"These settings will be applied by default when creating new teams."}),(null==f?void 0:null===(t=f.field_schema)||void 0===t?void 0:t.description)&&(0,a.jsx)(C,{className:"mb-4 mt-2",children:f.field_schema.description}),(0,a.jsx)(r.iz,{}),(0,a.jsx)("div",{className:"mt-4 space-y-4",children:(()=>{let{values:e,field_schema:t}=f;return t&&t.properties?Object.entries(t.properties).map(t=>{let[s,l]=t,i=e[s],n=s.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase());return(0,a.jsxs)("div",{className:"mb-6 pb-6 border-b border-gray-200 last:border-0",children:[(0,a.jsx)(r.xv,{className:"font-medium text-lg",children:n}),(0,a.jsx)(C,{className:"text-sm text-gray-500 mt-1",children:l.description||"No description available"}),v?(0,a.jsx)("div",{className:"mt-2",children:I(s,l,i)}):(0,a.jsx)("div",{className:"mt-1 p-2 bg-gray-50 rounded",children:L(s,i)})]},s)}):(0,a.jsx)(r.xv,{children:"No schema information available"})})()})]}):(0,a.jsx)(r.Zb,{children:(0,a.jsx)(r.xv,{children:"No team settings available or you do not have permission to view them."})})}},54939:function(e,t,s){"use strict";s.d(t,{Z:function(){return D}});var a=s(57437),l=s(78489),r=s(12514),i=s(12485),n=s(18135),o=s(35242),d=s(29706),c=s(77991),m=s(21626),u=s(97214),x=s(28241),h=s(58834),p=s(69552),g=s(71876),j=s(84264),f=s(2265),y=s(17906),v=s(21609),b=s(39957),_=s(9114),N=s(19250),Z=s(87452),w=s(88829),k=s(72208),S=s(49566),C=s(10032),P=s(22116),A=s(19015),T=s(37592),I=s(5545),L=e=>{let{isModalVisible:t,accessToken:s,setIsModalVisible:l,setBudgetList:r}=e,[i]=C.Z.useForm(),n=async e=>{if(null!=s&&void 0!=s)try{_.Z.info("Making API Call");let t=await (0,N.budgetCreateCall)(s,e);console.log("key create Response:",t),r(e=>e?[...e,t]:[t]),_.Z.success("Budget Created"),i.resetFields()}catch(e){console.error("Error creating the key:",e),_.Z.fromBackend("Error creating the key: ".concat(e))}};return(0,a.jsx)(P.Z,{title:"Create Budget",visible:t,width:800,footer:null,onOk:()=>{l(!1),i.resetFields()},onCancel:()=>{l(!1),i.resetFields()},children:(0,a.jsxs)(C.Z,{form:i,onFinish:n,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:[(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.Z.Item,{label:"Budget ID",name:"budget_id",rules:[{required:!0,message:"Please input a human-friendly name for the budget"}],help:"A human-friendly name for the budget",children:(0,a.jsx)(S.Z,{placeholder:""})}),(0,a.jsx)(C.Z.Item,{label:"Max Tokens per minute",name:"tpm_limit",help:"Default is model limit.",children:(0,a.jsx)(A.Z,{step:1,precision:2,width:200})}),(0,a.jsx)(C.Z.Item,{label:"Max Requests per minute",name:"rpm_limit",help:"Default is model limit.",children:(0,a.jsx)(A.Z,{step:1,precision:2,width:200})}),(0,a.jsxs)(Z.Z,{className:"mt-20 mb-8",children:[(0,a.jsx)(k.Z,{children:(0,a.jsx)("b",{children:"Optional Settings"})}),(0,a.jsxs)(w.Z,{children:[(0,a.jsx)(C.Z.Item,{label:"Max Budget (USD)",name:"max_budget",children:(0,a.jsx)(A.Z,{step:.01,precision:2,width:200})}),(0,a.jsx)(C.Z.Item,{className:"mt-8",label:"Reset Budget",name:"budget_duration",children:(0,a.jsxs)(T.default,{defaultValue:null,placeholder:"n/a",children:[(0,a.jsx)(T.default.Option,{value:"24h",children:"daily"}),(0,a.jsx)(T.default.Option,{value:"7d",children:"weekly"}),(0,a.jsx)(T.default.Option,{value:"30d",children:"monthly"})]})})]})]})]}),(0,a.jsx)("div",{style:{textAlign:"right",marginTop:"10px"},children:(0,a.jsx)(I.ZP,{htmlType:"submit",children:"Create Budget"})})]})})},z=e=>{let{isModalVisible:t,accessToken:s,setIsModalVisible:l,setBudgetList:r,existingBudget:i,handleUpdateCall:n}=e;console.log("existingBudget",i);let[o]=C.Z.useForm();(0,f.useEffect)(()=>{o.setFieldsValue(i)},[i,o]);let d=async e=>{if(null!=s&&void 0!=s)try{_.Z.info("Making API Call"),l(!0);let t=await (0,N.budgetUpdateCall)(s,e);r(e=>e?[...e,t]:[t]),_.Z.success("Budget Updated"),o.resetFields(),n()}catch(e){console.error("Error creating the key:",e),_.Z.fromBackend("Error creating the key: ".concat(e))}};return(0,a.jsx)(P.Z,{title:"Edit Budget",visible:t,width:800,footer:null,onOk:()=>{l(!1),o.resetFields()},onCancel:()=>{l(!1),o.resetFields()},children:(0,a.jsxs)(C.Z,{form:o,onFinish:d,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",initialValues:i,children:[(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.Z.Item,{label:"Budget ID",name:"budget_id",rules:[{required:!0,message:"Please input a human-friendly name for the budget"}],help:"A human-friendly name for the budget",children:(0,a.jsx)(S.Z,{placeholder:""})}),(0,a.jsx)(C.Z.Item,{label:"Max Tokens per minute",name:"tpm_limit",help:"Default is model limit.",children:(0,a.jsx)(A.Z,{step:1,precision:2,width:200})}),(0,a.jsx)(C.Z.Item,{label:"Max Requests per minute",name:"rpm_limit",help:"Default is model limit.",children:(0,a.jsx)(A.Z,{step:1,precision:2,width:200})}),(0,a.jsxs)(Z.Z,{className:"mt-20 mb-8",children:[(0,a.jsx)(k.Z,{children:(0,a.jsx)("b",{children:"Optional Settings"})}),(0,a.jsxs)(w.Z,{children:[(0,a.jsx)(C.Z.Item,{label:"Max Budget (USD)",name:"max_budget",children:(0,a.jsx)(A.Z,{step:.01,precision:2,width:200})}),(0,a.jsx)(C.Z.Item,{className:"mt-8",label:"Reset Budget",name:"budget_duration",children:(0,a.jsxs)(T.default,{defaultValue:null,placeholder:"n/a",children:[(0,a.jsx)(T.default.Option,{value:"24h",children:"daily"}),(0,a.jsx)(T.default.Option,{value:"7d",children:"weekly"}),(0,a.jsx)(T.default.Option,{value:"30d",children:"monthly"})]})})]})]})]}),(0,a.jsx)("div",{style:{textAlign:"right",marginTop:"10px"},children:(0,a.jsx)(I.ZP,{htmlType:"submit",children:"Save"})})]})})},D=e=>{let{accessToken:t}=e,[s,Z]=(0,f.useState)(!1),[w,k]=(0,f.useState)(!1),[S,C]=(0,f.useState)(null),[P,A]=(0,f.useState)([]),[T,I]=(0,f.useState)(!1),[D,E]=(0,f.useState)(!1);(0,f.useEffect)(()=>{t&&(0,N.getBudgetList)(t).then(e=>{A(e)})},[t]);let M=async e=>{null!=t&&(C(e),k(!0))},F=e=>{C(e),E(!0)},O=async()=>{if(S&&null!=t){I(!0);try{await (0,N.budgetDeleteCall)(t,S.budget_id),_.Z.success("Budget deleted."),await R()}catch(e){console.error("Error deleting budget:",e),"function"==typeof _.Z.fromBackend?_.Z.fromBackend("Failed to delete budget"):_.Z.info("Failed to delete budget")}finally{I(!1),E(!1),C(null)}}},R=async()=>{null!=t&&(0,N.getBudgetList)(t).then(e=>{A(e)})};return(0,a.jsxs)("div",{className:"w-full mx-auto flex-auto overflow-y-auto m-8 p-2",children:[(0,a.jsx)(l.Z,{size:"sm",variant:"primary",className:"mb-2",onClick:()=>Z(!0),children:"+ Create Budget"}),(0,a.jsxs)(n.Z,{children:[(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(i.Z,{children:"Budgets"}),(0,a.jsx)(i.Z,{children:"Examples"})]}),(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(d.Z,{children:(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)(L,{accessToken:t,isModalVisible:s,setIsModalVisible:Z,setBudgetList:A}),S&&(0,a.jsx)(z,{accessToken:t,isModalVisible:w,setIsModalVisible:k,setBudgetList:A,existingBudget:S,handleUpdateCall:R}),(0,a.jsxs)(r.Z,{children:[(0,a.jsx)(j.Z,{children:"Create a budget to assign to customers."}),(0,a.jsxs)(m.Z,{children:[(0,a.jsx)(h.Z,{children:(0,a.jsxs)(g.Z,{children:[(0,a.jsx)(p.Z,{children:"Budget ID"}),(0,a.jsx)(p.Z,{children:"Max Budget"}),(0,a.jsx)(p.Z,{children:"TPM"}),(0,a.jsx)(p.Z,{children:"RPM"})]})}),(0,a.jsx)(u.Z,{children:P.slice().sort((e,t)=>new Date(t.updated_at).getTime()-new Date(e.updated_at).getTime()).map((e,t)=>(0,a.jsxs)(g.Z,{children:[(0,a.jsx)(x.Z,{children:e.budget_id}),(0,a.jsx)(x.Z,{children:e.max_budget?e.max_budget:"n/a"}),(0,a.jsx)(x.Z,{children:e.tpm_limit?e.tpm_limit:"n/a"}),(0,a.jsx)(x.Z,{children:e.rpm_limit?e.rpm_limit:"n/a"}),(0,a.jsx)(b.Z,{variant:"Edit",tooltipText:"Edit budget",onClick:()=>M(e),dataTestId:"edit-budget-button"}),(0,a.jsx)(b.Z,{variant:"Delete",tooltipText:"Delete budget",onClick:()=>F(e),dataTestId:"delete-budget-button"})]},t))})]})]}),(0,a.jsx)(v.Z,{isOpen:D,title:"Delete Budget?",message:"Are you sure you want to delete this budget? This action cannot be undone.",resourceInformationTitle:"Budget Information",resourceInformation:[{label:"Budget ID",value:null==S?void 0:S.budget_id,code:!0},{label:"Max Budget",value:null==S?void 0:S.max_budget},{label:"TPM",value:null==S?void 0:S.tpm_limit},{label:"RPM",value:null==S?void 0:S.rpm_limit}],onCancel:()=>{E(!1)},onOk:O,confirmLoading:T})]})}),(0,a.jsx)(d.Z,{children:(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)(j.Z,{className:"text-base",children:"How to use budget id"}),(0,a.jsxs)(n.Z,{children:[(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(i.Z,{children:"Assign Budget to Customer"}),(0,a.jsx)(i.Z,{children:"Test it (Curl)"}),(0,a.jsx)(i.Z,{children:"Test it (OpenAI SDK)"})]}),(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(d.Z,{children:(0,a.jsx)(y.Z,{language:"bash",children:"\ncurl -X POST --location '<your_proxy_base_url>/end_user/new' \\\n\n-H 'Authorization: Bearer <your-master-key>' \\\n\n-H 'Content-Type: application/json' \\\n\n-d '{\"user_id\": \"my-customer-id', \"budget_id\": \"<BUDGET_ID>\"}' # \uD83D\uDC48 KEY CHANGE\n\n"})}),(0,a.jsx)(d.Z,{children:(0,a.jsx)(y.Z,{language:"bash",children:'\ncurl -X POST --location \'<your_proxy_base_url>/chat/completions\' \\\n\n-H \'Authorization: Bearer <your-master-key>\' \\\n\n-H \'Content-Type: application/json\' \\\n\n-d \'{\n  "model": "gpt-3.5-turbo\',\n  "messages":[{"role": "user", "content": "Hey, how\'s it going?"}],\n  "user": "my-customer-id"\n}\' # \uD83D\uDC48 KEY CHANGE\n\n'})}),(0,a.jsx)(d.Z,{children:(0,a.jsx)(y.Z,{language:"python",children:'from openai import OpenAI\nclient = OpenAI(\n  base_url="<your_proxy_base_url>",\n  api_key="<your_proxy_key>"\n)\n\ncompletion = client.chat.completions.create(\n  model="gpt-3.5-turbo",\n  messages=[\n    {"role": "system", "content": "You are a helpful assistant."},\n    {"role": "user", "content": "Hello!"}\n  ],\n  user="my-customer-id"\n)\n\nprint(completion.choices[0].message)'})})]})]})]})})]})]})]})}},94987:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(57437),l=s(10012),r=s(91323);function i(){return(0,a.jsxs)("div",{className:(0,l.cx)("h-screen","flex items-center justify-center gap-4"),children:[(0,a.jsx)("div",{className:"text-lg font-medium py-2 pr-4 border-r border-r-gray-200",children:"\uD83D\uDE85 LiteLLM"}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(r.S,{className:"size-4"}),(0,a.jsx)("span",{className:"text-gray-600 text-sm",children:"Loading..."})]})]})}},918:function(e,t,s){"use strict";var a=s(57437),l=s(2265),r=s(62490),i=s(19250),n=s(9114);t.Z=e=>{let{accessToken:t,userID:s}=e,[o,d]=(0,l.useState)([]);(0,l.useEffect)(()=>{(async()=>{if(t&&s)try{let e=await (0,i.availableTeamListCall)(t);d(e)}catch(e){console.error("Error fetching available teams:",e)}})()},[t,s]);let c=async e=>{if(t&&s)try{await (0,i.teamMemberAddCall)(t,e,{user_id:s,role:"user"}),n.Z.success("Successfully joined team"),d(t=>t.filter(t=>t.team_id!==e))}catch(e){console.error("Error joining team:",e),n.Z.fromBackend("Failed to join team")}};return(0,a.jsx)(r.Zb,{className:"w-full mx-auto flex-auto overflow-y-auto max-h-[50vh]",children:(0,a.jsxs)(r.iA,{children:[(0,a.jsx)(r.ss,{children:(0,a.jsxs)(r.SC,{children:[(0,a.jsx)(r.xs,{children:"Team Name"}),(0,a.jsx)(r.xs,{children:"Description"}),(0,a.jsx)(r.xs,{children:"Members"}),(0,a.jsx)(r.xs,{children:"Models"}),(0,a.jsx)(r.xs,{children:"Actions"})]})}),(0,a.jsxs)(r.RM,{children:[o.map(e=>(0,a.jsxs)(r.SC,{children:[(0,a.jsx)(r.pj,{children:(0,a.jsx)(r.xv,{children:e.team_alias})}),(0,a.jsx)(r.pj,{children:(0,a.jsx)(r.xv,{children:e.description||"No description available"})}),(0,a.jsx)(r.pj,{children:(0,a.jsxs)(r.xv,{children:[e.members_with_roles.length," members"]})}),(0,a.jsx)(r.pj,{children:(0,a.jsx)("div",{className:"flex flex-col",children:e.models&&0!==e.models.length?e.models.map((e,t)=>(0,a.jsx)(r.Ct,{size:"xs",className:"mb-1",color:"blue",children:(0,a.jsx)(r.xv,{children:e.length>30?"".concat(e.slice(0,30),"..."):e})},t)):(0,a.jsx)(r.Ct,{size:"xs",color:"red",children:(0,a.jsx)(r.xv,{children:"All Proxy Models"})})})}),(0,a.jsx)(r.pj,{children:(0,a.jsx)(r.zx,{size:"xs",variant:"secondary",onClick:()=>c(e.team_id),children:"Join Team"})})]},e.team_id)),0===o.length&&(0,a.jsx)(r.SC,{children:(0,a.jsx)(r.pj,{colSpan:5,className:"text-center",children:(0,a.jsx)(r.xv,{children:"No available teams to join"})})})]})]})})}},59004:function(e,t,s){"use strict";var a=s(57437),l=s(2265),r=s(5545),i=s(23639),n=s(21700),o=s(19250),d=s(9114);t.Z=e=>{let{accessToken:t}=e,[s,c]=(0,l.useState)('{\n  "model": "openai/gpt-4o",\n  "messages": [\n    {\n      "role": "system",\n      "content": "You are a helpful assistant."\n    },\n    {\n      "role": "user",\n      "content": "Explain quantum computing in simple terms"\n    }\n  ],\n  "temperature": 0.7,\n  "max_tokens": 500,\n  "stream": true\n}'),[m,u]=(0,l.useState)(""),[x,h]=(0,l.useState)(!1),p=(e,t,s)=>{let a=JSON.stringify(t,null,2).split("\n").map(e=>"  ".concat(e)).join("\n"),l=Object.entries(s).map(e=>{let[t,s]=e;return"-H '".concat(t,": ").concat(s,"'")}).join(" \\\n  ");return"curl -X POST \\\n  ".concat(e," \\\n  ").concat(l?"".concat(l," \\\n  "):"","-H 'Content-Type: application/json' \\\n  -d '{\n").concat(a,"\n  }'")},g=async()=>{h(!0);try{let e;try{e=JSON.parse(s)}catch(e){d.Z.fromBackend("Invalid JSON in request body"),h(!1);return}let a={call_type:"completion",request_body:e};if(!t){d.Z.fromBackend("No access token found"),h(!1);return}let l=await (0,o.transformRequestCall)(t,a);if(l.raw_request_api_base&&l.raw_request_body){let e=p(l.raw_request_api_base,l.raw_request_body,l.raw_request_headers||{});u(e),d.Z.success("Request transformed successfully")}else{let e="string"==typeof l?l:JSON.stringify(l);u(e),d.Z.info("Transformed request received in unexpected format")}}catch(e){console.error("Error transforming request:",e),d.Z.fromBackend("Failed to transform request")}finally{h(!1)}};return(0,a.jsxs)("div",{className:"w-full m-2",style:{overflow:"hidden"},children:[(0,a.jsx)(n.D,{children:"Playground"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"See how LiteLLM transforms your request for the specified provider."}),(0,a.jsxs)("div",{style:{display:"flex",gap:"16px",width:"100%",minWidth:0,overflow:"hidden"},className:"mt-4",children:[(0,a.jsxs)("div",{style:{flex:"1 1 50%",display:"flex",flexDirection:"column",border:"1px solid #e8e8e8",borderRadius:"8px",padding:"24px",overflow:"hidden",maxHeight:"600px",minWidth:0},children:[(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsx)("h2",{style:{fontSize:"24px",fontWeight:"bold",margin:"0 0 4px 0"},children:"Original Request"}),(0,a.jsx)("p",{style:{color:"#666",margin:0},children:"The request you would send to LiteLLM /chat/completions endpoint."})]}),(0,a.jsx)("textarea",{style:{flex:"1 1 auto",width:"100%",minHeight:"240px",padding:"16px",border:"1px solid #e8e8e8",borderRadius:"6px",fontFamily:"monospace",fontSize:"14px",resize:"none",marginBottom:"24px",overflow:"auto"},value:s,onChange:e=>c(e.target.value),onKeyDown:e=>{(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),g())},placeholder:"Press Cmd/Ctrl + Enter to transform"}),(0,a.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"auto"},children:(0,a.jsxs)(r.ZP,{type:"primary",style:{backgroundColor:"#000",display:"flex",alignItems:"center",gap:"8px"},onClick:g,loading:x,children:[(0,a.jsx)("span",{children:"Transform"}),(0,a.jsx)("span",{children:""})]})})]}),(0,a.jsxs)("div",{style:{flex:"1 1 50%",display:"flex",flexDirection:"column",border:"1px solid #e8e8e8",borderRadius:"8px",padding:"24px",overflow:"hidden",maxHeight:"800px",minWidth:0},children:[(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsx)("h2",{style:{fontSize:"24px",fontWeight:"bold",margin:"0 0 4px 0"},children:"Transformed Request"}),(0,a.jsx)("p",{style:{color:"#666",margin:0},children:"How LiteLLM transforms your request for the specified provider."}),(0,a.jsx)("br",{}),(0,a.jsx)("p",{style:{color:"#666",margin:0},className:"text-xs",children:"Note: Sensitive headers are not shown."})]}),(0,a.jsxs)("div",{style:{position:"relative",backgroundColor:"#f5f5f5",borderRadius:"6px",flex:"1 1 auto",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,a.jsx)("pre",{style:{padding:"16px",fontFamily:"monospace",fontSize:"14px",margin:0,overflow:"auto",flex:"1 1 auto"},children:m||'curl -X POST \\\n  https://api.openai.com/v1/chat/completions \\\n  -H \'Authorization: Bearer sk-xxx\' \\\n  -H \'Content-Type: application/json\' \\\n  -d \'{\n  "model": "gpt-4",\n  "messages": [\n    {\n      "role": "system",\n      "content": "You are a helpful assistant."\n    }\n  ],\n  "temperature": 0.7\n  }\''}),(0,a.jsx)(r.ZP,{type:"text",icon:(0,a.jsx)(i.Z,{}),style:{position:"absolute",right:"8px",top:"8px"},size:"small",onClick:()=>{navigator.clipboard.writeText(m||""),d.Z.success("Copied to clipboard")}})]})]})]}),(0,a.jsx)("div",{className:"mt-4 text-right w-full",children:(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Found an error? File an issue"," ",(0,a.jsx)("a",{href:"https://github.com/BerriAI/litellm/issues",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]})})]})}},5183:function(e,t,s){"use strict";var a=s(57437),l=s(2265),r=s(19046),i=s(69734),n=s(19250),o=s(9114);t.Z=e=>{let{userID:t,userRole:s,accessToken:d}=e,{logoUrl:c,setLogoUrl:m}=(0,i.F)(),[u,x]=(0,l.useState)(""),[h,p]=(0,l.useState)(!1);(0,l.useEffect)(()=>{d&&g()},[d]);let g=async()=>{try{let t=(0,n.getProxyBaseUrl)(),s=await fetch(t?"".concat(t,"/get/ui_theme_settings"):"/get/ui_theme_settings",{method:"GET",headers:{Authorization:"Bearer ".concat(d),"Content-Type":"application/json"}});if(s.ok){var e;let t=await s.json(),a=(null===(e=t.values)||void 0===e?void 0:e.logo_url)||"";x(a),m(a||null)}}catch(e){console.error("Error fetching theme settings:",e)}},j=async()=>{p(!0);try{let e=(0,n.getProxyBaseUrl)();if((await fetch(e?"".concat(e,"/update/ui_theme_settings"):"/update/ui_theme_settings",{method:"PATCH",headers:{Authorization:"Bearer ".concat(d),"Content-Type":"application/json"},body:JSON.stringify({logo_url:u||null})})).ok)o.Z.success("Logo settings updated successfully!"),m(u||null);else throw Error("Failed to update settings")}catch(e){console.error("Error updating logo settings:",e),o.Z.fromBackend("Failed to update logo settings")}finally{p(!1)}},f=async()=>{x(""),m(null),p(!0);try{let e=(0,n.getProxyBaseUrl)();if((await fetch(e?"".concat(e,"/update/ui_theme_settings"):"/update/ui_theme_settings",{method:"PATCH",headers:{Authorization:"Bearer ".concat(d),"Content-Type":"application/json"},body:JSON.stringify({logo_url:null})})).ok)o.Z.success("Logo reset to default!");else throw Error("Failed to reset logo")}catch(e){console.error("Error resetting logo:",e),o.Z.fromBackend("Failed to reset logo")}finally{p(!1)}};return d?(0,a.jsxs)("div",{className:"w-full mx-auto max-w-4xl px-6 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)(r.Dx,{className:"text-2xl font-bold mb-2",children:"Logo Customization"}),(0,a.jsx)(r.xv,{className:"text-gray-600",children:"Customize your LiteLLM admin dashboard with a custom logo."})]}),(0,a.jsx)(r.Zb,{className:"shadow-sm p-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(r.xv,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Custom Logo URL"}),(0,a.jsx)(r.oi,{placeholder:"https://example.com/logo.png",value:u,onValueChange:e=>{x(e),m(e||null)},className:"w-full"}),(0,a.jsx)(r.xv,{className:"text-xs text-gray-500 mt-1",children:"Enter a URL for your custom logo or leave empty to use the default LiteLLM logo"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.xv,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Current Logo"}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-6 flex items-center justify-center min-h-[120px]",children:u?(0,a.jsx)("img",{src:u,alt:"Custom logo",className:"max-w-full max-h-24 object-contain",onError:e=>{var t;let s=e.target;s.style.display="none";let a=document.createElement("div");a.className="text-gray-500 text-sm",a.textContent="Failed to load image",null===(t=s.parentElement)||void 0===t||t.appendChild(a)}}):(0,a.jsx)(r.xv,{className:"text-gray-500 text-sm",children:"Default LiteLLM logo will be used"})})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)(r.zx,{onClick:j,loading:h,disabled:h,color:"indigo",children:"Save Changes"}),(0,a.jsx)(r.zx,{onClick:f,loading:h,disabled:h,variant:"secondary",color:"gray",children:"Reset to Default"})]})]})})]}):null}},79262:function(e,t,s){"use strict";s.d(t,{Z:function(){return x}});var a=s(57437);s(1309);var l=s(76865),r=s(70525),i=s(95805),n=s(51817),o=s(21047);s(22135),s(40875);var d=s(49663),c=s(2265),m=s(19250);let u=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")};function x(e){let{accessToken:t,width:s=220}=e,[x,h]=(0,c.useState)(!1),[p,g]=(0,c.useState)(!1),[j,f]=(0,c.useState)(null),[y,v]=(0,c.useState)(!1),[b,_]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{if(t){v(!0),_(null);try{let e=await (0,m.getRemainingUsers)(t);f(e)}catch(e){console.error("Failed to fetch usage data:",e),_("Failed to load usage data")}finally{v(!1)}}})()},[t]);let{isOverLimit:N,isNearLimit:Z,usagePercentage:w,userMetrics:k,teamMetrics:S}=(e=>{if(!e)return{isOverLimit:!1,isNearLimit:!1,usagePercentage:0,userMetrics:{isOverLimit:!1,isNearLimit:!1,usagePercentage:0},teamMetrics:{isOverLimit:!1,isNearLimit:!1,usagePercentage:0}};let t=e.total_users?e.total_users_used/e.total_users*100:0,s=t>100,a=t>=80&&t<=100,l=e.total_teams?e.total_teams_used/e.total_teams*100:0,r=l>100,i=l>=80&&l<=100,n=s||r;return{isOverLimit:n,isNearLimit:(a||i)&&!n,usagePercentage:Math.max(t,l),userMetrics:{isOverLimit:s,isNearLimit:a,usagePercentage:t},teamMetrics:{isOverLimit:r,isNearLimit:i,usagePercentage:l}}})(j),C=()=>N?(0,a.jsx)(l.Z,{className:"h-3 w-3"}):Z?(0,a.jsx)(r.Z,{className:"h-3 w-3"}):null;return t&&((null==j?void 0:j.total_users)!==null||(null==j?void 0:j.total_teams)!==null)?(0,a.jsx)("div",{className:"fixed bottom-4 left-4 z-50",style:{width:"".concat(Math.min(s,220),"px")},children:(0,a.jsx)(()=>p?(0,a.jsx)("button",{onClick:()=>g(!1),className:u("bg-white border border-gray-200 rounded-lg shadow-sm p-3 hover:shadow-md transition-all w-full"),title:"Show usage details",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4 flex-shrink-0"}),(N||Z)&&(0,a.jsx)("span",{className:"flex-shrink-0",children:C()}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium truncate",children:[j&&null!==j.total_users&&(0,a.jsxs)("span",{className:u("flex-shrink-0 px-1.5 py-0.5 rounded text-xs border",k.isOverLimit&&"bg-red-50 text-red-700 border-red-200",k.isNearLimit&&"bg-yellow-50 text-yellow-700 border-yellow-200",!k.isOverLimit&&!k.isNearLimit&&"bg-gray-50 text-gray-700 border-gray-200"),children:["U: ",j.total_users_used,"/",j.total_users]}),j&&null!==j.total_teams&&(0,a.jsxs)("span",{className:u("flex-shrink-0 px-1.5 py-0.5 rounded text-xs border",S.isOverLimit&&"bg-red-50 text-red-700 border-red-200",S.isNearLimit&&"bg-yellow-50 text-yellow-700 border-yellow-200",!S.isOverLimit&&!S.isNearLimit&&"bg-gray-50 text-gray-700 border-gray-200"),children:["T: ",j.total_teams_used,"/",j.total_teams]}),!j||null===j.total_users&&null===j.total_teams&&(0,a.jsx)("span",{className:"truncate",children:"Usage"})]})]})}):y?(0,a.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-4 w-full",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 py-2",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4 animate-spin"}),(0,a.jsx)("span",{className:"text-sm text-gray-500 truncate",children:"Loading..."})]})}):b||!j?(0,a.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-4 group w-full",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsx)("span",{className:"text-sm text-gray-500 truncate block",children:b||"No data"})}),(0,a.jsx)("button",{onClick:()=>g(!0),className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-100 rounded transition-all flex-shrink-0",title:"Minimize",children:(0,a.jsx)(o.Z,{className:"h-3 w-3 text-gray-400"})})]})}):(0,a.jsxs)("div",{className:u("bg-white border rounded-lg shadow-sm p-3 transition-all duration-200 group w-full"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4 flex-shrink-0"}),(0,a.jsx)("span",{className:"font-medium text-sm truncate",children:"Usage"})]}),(0,a.jsx)("button",{onClick:()=>g(!0),className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-100 rounded transition-all flex-shrink-0",title:"Minimize",children:(0,a.jsx)(o.Z,{className:"h-3 w-3 text-gray-400"})})]}),(0,a.jsxs)("div",{className:"space-y-3 text-sm",children:[null!==j.total_users&&(0,a.jsxs)("div",{className:u("space-y-1 border rounded-md p-2",k.isOverLimit&&"border-red-200 bg-red-50",k.isNearLimit&&"border-yellow-200 bg-yellow-50"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-1",children:[(0,a.jsx)(i.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{className:"font-medium",children:"Users"}),(0,a.jsx)("span",{className:u("ml-1 px-1.5 py-0.5 rounded border",k.isOverLimit&&"bg-red-50 text-red-700 border-red-200",k.isNearLimit&&"bg-yellow-50 text-yellow-700 border-yellow-200",!k.isOverLimit&&!k.isNearLimit&&"bg-gray-50 text-gray-600 border-gray-200"),children:k.isOverLimit?"Over limit":k.isNearLimit?"Near limit":"OK"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600 text-xs",children:"Used:"}),(0,a.jsxs)("span",{className:"font-medium text-right",children:[j.total_users_used,"/",j.total_users]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600 text-xs",children:"Remaining:"}),(0,a.jsx)("span",{className:u("font-medium text-right",k.isOverLimit&&"text-red-600",k.isNearLimit&&"text-yellow-600"),children:j.total_users_remaining})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600 text-xs",children:"Usage:"}),(0,a.jsxs)("span",{className:"font-medium text-right",children:[Math.round(k.usagePercentage),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:u("h-2 rounded-full transition-all duration-300",k.isOverLimit&&"bg-red-500",k.isNearLimit&&"bg-yellow-500",!k.isOverLimit&&!k.isNearLimit&&"bg-green-500"),style:{width:"".concat(Math.min(k.usagePercentage,100),"%")}})})]}),null!==j.total_teams&&(0,a.jsxs)("div",{className:u("space-y-1 border rounded-md p-2",S.isOverLimit&&"border-red-200 bg-red-50",S.isNearLimit&&"border-yellow-200 bg-yellow-50"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-1",children:[(0,a.jsx)(d.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{className:"font-medium",children:"Teams"}),(0,a.jsx)("span",{className:u("ml-1 px-1.5 py-0.5 rounded border",S.isOverLimit&&"bg-red-50 text-red-700 border-red-200",S.isNearLimit&&"bg-yellow-50 text-yellow-700 border-yellow-200",!S.isOverLimit&&!S.isNearLimit&&"bg-gray-50 text-gray-600 border-gray-200"),children:S.isOverLimit?"Over limit":S.isNearLimit?"Near limit":"OK"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600 text-xs",children:"Used:"}),(0,a.jsxs)("span",{className:"font-medium text-right",children:[j.total_teams_used,"/",j.total_teams]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600 text-xs",children:"Remaining:"}),(0,a.jsx)("span",{className:u("font-medium text-right",S.isOverLimit&&"text-red-600",S.isNearLimit&&"text-yellow-600"),children:j.total_teams_remaining})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600 text-xs",children:"Usage:"}),(0,a.jsxs)("span",{className:"font-medium text-right",children:[Math.round(S.usagePercentage),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:u("h-2 rounded-full transition-all duration-300",S.isOverLimit&&"bg-red-500",S.isNearLimit&&"bg-yellow-500",!S.isOverLimit&&!S.isNearLimit&&"bg-green-500"),style:{width:"".concat(Math.min(S.usagePercentage,100),"%")}})})]})]})]}),{})}):null}},97060:function(e,t,s){"use strict";s.d(t,{v:function(){return l}});var a=s(14474);function l(e){try{let t=(0,a.o)(e);if(t&&"number"==typeof t.exp)return 1e3*t.exp<=Date.now();return!1}catch(e){return!0}}}},function(e){e.O(0,[9546,1047,3665,6990,9028,9409,1713,4865,337,8135,1442,2926,2409,3367,3709,353,1994,7318,952,8565,9313,5869,5319,5333,1209,6609,2618,7906,4593,9165,1108,816,7271,2512,2900,5733,1074,9654,605,3688,5100,5153,8049,5144,2202,9640,665,7526,1253,3862,5873,2004,4375,6537,6377,2703,137,6399,6653,9264,9140,6600,8449,9039,8143,3536,5695,9145,2971,2117,1744],function(){return e(e.s=52022)}),_N_E=e.O()}]);